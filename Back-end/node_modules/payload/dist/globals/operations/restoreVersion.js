"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _executeAccess = /*#__PURE__*/ _interop_require_default(require("../../auth/executeAccess"));
const _errors = require("../../errors");
const _afterChange = require("../../fields/hooks/afterChange");
const _afterRead = require("../../fields/hooks/afterRead");
const _commitTransaction = require("../../utilities/commitTransaction");
const _initTransaction = require("../../utilities/initTransaction");
const _killTransaction = require("../../utilities/killTransaction");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
async function restoreVersion(args) {
    const { id, depth, globalConfig, overrideAccess, req: { payload, t }, req, showHiddenFields } = args;
    try {
        const shouldCommit = await (0, _initTransaction.initTransaction)(req);
        // /////////////////////////////////////
        // Access
        // /////////////////////////////////////
        if (!overrideAccess) {
            await (0, _executeAccess.default)({
                req
            }, globalConfig.access.update);
        }
        // /////////////////////////////////////
        // Retrieve original raw version
        // /////////////////////////////////////
        const { docs: versionDocs } = await payload.db.findGlobalVersions({
            global: globalConfig.slug,
            limit: 1,
            req,
            where: {
                id: {
                    equals: id
                }
            }
        });
        if (!versionDocs || versionDocs.length === 0) {
            throw new _errors.NotFound(t);
        }
        const rawVersion = versionDocs[0];
        // /////////////////////////////////////
        // fetch previousDoc
        // /////////////////////////////////////
        const previousDoc = await payload.findGlobal({
            depth,
            req,
            slug: globalConfig.slug
        });
        // /////////////////////////////////////
        // Update global
        // /////////////////////////////////////
        const global = await payload.db.findGlobal({
            req,
            slug: globalConfig.slug
        });
        let result = rawVersion.version;
        if (global) {
            result = await payload.db.updateGlobal({
                data: result,
                req,
                slug: globalConfig.slug
            });
        } else {
            result = await payload.db.createGlobal({
                data: result,
                req,
                slug: globalConfig.slug
            });
        }
        // /////////////////////////////////////
        // afterRead - Fields
        // /////////////////////////////////////
        result = await (0, _afterRead.afterRead)({
            collection: null,
            context: req.context,
            depth,
            doc: result,
            global: globalConfig,
            overrideAccess,
            req,
            showHiddenFields
        });
        // /////////////////////////////////////
        // afterRead - Global
        // /////////////////////////////////////
        await globalConfig.hooks.afterRead.reduce(async (priorHook, hook)=>{
            await priorHook;
            result = await hook({
                context: req.context,
                doc: result,
                global: globalConfig,
                req
            }) || result;
        }, Promise.resolve());
        // /////////////////////////////////////
        // afterChange - Fields
        // /////////////////////////////////////
        result = await (0, _afterChange.afterChange)({
            collection: null,
            context: req.context,
            data: result,
            doc: result,
            global: globalConfig,
            operation: 'update',
            previousDoc,
            req
        });
        // /////////////////////////////////////
        // afterChange - Global
        // /////////////////////////////////////
        await globalConfig.hooks.afterChange.reduce(async (priorHook, hook)=>{
            await priorHook;
            result = await hook({
                context: req.context,
                doc: result,
                global: globalConfig,
                previousDoc,
                req
            }) || result;
        }, Promise.resolve());
        if (shouldCommit) await (0, _commitTransaction.commitTransaction)(req);
        return result;
    } catch (error) {
        await (0, _killTransaction.killTransaction)(req);
        throw error;
    }
}
const _default = restoreVersion;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9nbG9iYWxzL29wZXJhdGlvbnMvcmVzdG9yZVZlcnNpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBQYXlsb2FkUmVxdWVzdCB9IGZyb20gJy4uLy4uL2V4cHJlc3MvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFR5cGVXaXRoVmVyc2lvbiB9IGZyb20gJy4uLy4uL3ZlcnNpb25zL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBTYW5pdGl6ZWRHbG9iYWxDb25maWcgfSBmcm9tICcuLi9jb25maWcvdHlwZXMnXG5cbmltcG9ydCBleGVjdXRlQWNjZXNzIGZyb20gJy4uLy4uL2F1dGgvZXhlY3V0ZUFjY2VzcydcbmltcG9ydCB7IE5vdEZvdW5kIH0gZnJvbSAnLi4vLi4vZXJyb3JzJ1xuaW1wb3J0IHsgYWZ0ZXJDaGFuZ2UgfSBmcm9tICcuLi8uLi9maWVsZHMvaG9va3MvYWZ0ZXJDaGFuZ2UnXG5pbXBvcnQgeyBhZnRlclJlYWQgfSBmcm9tICcuLi8uLi9maWVsZHMvaG9va3MvYWZ0ZXJSZWFkJ1xuaW1wb3J0IHsgY29tbWl0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvY29tbWl0VHJhbnNhY3Rpb24nXG5pbXBvcnQgeyBpbml0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaW5pdFRyYW5zYWN0aW9uJ1xuaW1wb3J0IHsga2lsbFRyYW5zYWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2tpbGxUcmFuc2FjdGlvbidcblxuZXhwb3J0IHR5cGUgQXJndW1lbnRzID0ge1xuICBkZXB0aD86IG51bWJlclxuICBnbG9iYWxDb25maWc6IFNhbml0aXplZEdsb2JhbENvbmZpZ1xuICBpZDogbnVtYmVyIHwgc3RyaW5nXG4gIG92ZXJyaWRlQWNjZXNzPzogYm9vbGVhblxuICByZXE/OiBQYXlsb2FkUmVxdWVzdFxuICBzaG93SGlkZGVuRmllbGRzPzogYm9vbGVhblxufVxuXG5hc3luYyBmdW5jdGlvbiByZXN0b3JlVmVyc2lvbjxUIGV4dGVuZHMgVHlwZVdpdGhWZXJzaW9uPFQ+ID0gYW55PihhcmdzOiBBcmd1bWVudHMpOiBQcm9taXNlPFQ+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGRlcHRoLFxuICAgIGdsb2JhbENvbmZpZyxcbiAgICBvdmVycmlkZUFjY2VzcyxcbiAgICByZXE6IHsgcGF5bG9hZCwgdCB9LFxuICAgIHJlcSxcbiAgICBzaG93SGlkZGVuRmllbGRzLFxuICB9ID0gYXJnc1xuXG4gIHRyeSB7XG4gICAgY29uc3Qgc2hvdWxkQ29tbWl0ID0gYXdhaXQgaW5pdFRyYW5zYWN0aW9uKHJlcSlcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBBY2Nlc3NcbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBpZiAoIW92ZXJyaWRlQWNjZXNzKSB7XG4gICAgICBhd2FpdCBleGVjdXRlQWNjZXNzKHsgcmVxIH0sIGdsb2JhbENvbmZpZy5hY2Nlc3MudXBkYXRlKVxuICAgIH1cblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBSZXRyaWV2ZSBvcmlnaW5hbCByYXcgdmVyc2lvblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGNvbnN0IHsgZG9jczogdmVyc2lvbkRvY3MgfSA9IGF3YWl0IHBheWxvYWQuZGIuZmluZEdsb2JhbFZlcnNpb25zPGFueT4oe1xuICAgICAgZ2xvYmFsOiBnbG9iYWxDb25maWcuc2x1ZyxcbiAgICAgIGxpbWl0OiAxLFxuICAgICAgcmVxLFxuICAgICAgd2hlcmU6IHsgaWQ6IHsgZXF1YWxzOiBpZCB9IH0sXG4gICAgfSlcblxuICAgIGlmICghdmVyc2lvbkRvY3MgfHwgdmVyc2lvbkRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTm90Rm91bmQodClcbiAgICB9XG5cbiAgICBjb25zdCByYXdWZXJzaW9uID0gdmVyc2lvbkRvY3NbMF1cblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBmZXRjaCBwcmV2aW91c0RvY1xuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGNvbnN0IHByZXZpb3VzRG9jID0gYXdhaXQgcGF5bG9hZC5maW5kR2xvYmFsKHtcbiAgICAgIGRlcHRoLFxuICAgICAgcmVxLFxuICAgICAgc2x1ZzogZ2xvYmFsQ29uZmlnLnNsdWcsXG4gICAgfSlcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBVcGRhdGUgZ2xvYmFsXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY29uc3QgZ2xvYmFsID0gYXdhaXQgcGF5bG9hZC5kYi5maW5kR2xvYmFsKHtcbiAgICAgIHJlcSxcbiAgICAgIHNsdWc6IGdsb2JhbENvbmZpZy5zbHVnLFxuICAgIH0pXG5cbiAgICBsZXQgcmVzdWx0ID0gcmF3VmVyc2lvbi52ZXJzaW9uXG5cbiAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBwYXlsb2FkLmRiLnVwZGF0ZUdsb2JhbCh7XG4gICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgcmVxLFxuICAgICAgICBzbHVnOiBnbG9iYWxDb25maWcuc2x1ZyxcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHBheWxvYWQuZGIuY3JlYXRlR2xvYmFsKHtcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICByZXEsXG4gICAgICAgIHNsdWc6IGdsb2JhbENvbmZpZy5zbHVnLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gYWZ0ZXJSZWFkIC0gRmllbGRzXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgcmVzdWx0ID0gYXdhaXQgYWZ0ZXJSZWFkKHtcbiAgICAgIGNvbGxlY3Rpb246IG51bGwsXG4gICAgICBjb250ZXh0OiByZXEuY29udGV4dCxcbiAgICAgIGRlcHRoLFxuICAgICAgZG9jOiByZXN1bHQsXG4gICAgICBnbG9iYWw6IGdsb2JhbENvbmZpZyxcbiAgICAgIG92ZXJyaWRlQWNjZXNzLFxuICAgICAgcmVxLFxuICAgICAgc2hvd0hpZGRlbkZpZWxkcyxcbiAgICB9KVxuXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIGFmdGVyUmVhZCAtIEdsb2JhbFxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGF3YWl0IGdsb2JhbENvbmZpZy5ob29rcy5hZnRlclJlYWQucmVkdWNlKGFzeW5jIChwcmlvckhvb2ssIGhvb2spID0+IHtcbiAgICAgIGF3YWl0IHByaW9ySG9va1xuXG4gICAgICByZXN1bHQgPVxuICAgICAgICAoYXdhaXQgaG9vayh7XG4gICAgICAgICAgY29udGV4dDogcmVxLmNvbnRleHQsXG4gICAgICAgICAgZG9jOiByZXN1bHQsXG4gICAgICAgICAgZ2xvYmFsOiBnbG9iYWxDb25maWcsXG4gICAgICAgICAgcmVxLFxuICAgICAgICB9KSkgfHwgcmVzdWx0XG4gICAgfSwgUHJvbWlzZS5yZXNvbHZlKCkpXG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gYWZ0ZXJDaGFuZ2UgLSBGaWVsZHNcbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICByZXN1bHQgPSBhd2FpdCBhZnRlckNoYW5nZSh7XG4gICAgICBjb2xsZWN0aW9uOiBudWxsLFxuICAgICAgY29udGV4dDogcmVxLmNvbnRleHQsXG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICBkb2M6IHJlc3VsdCxcbiAgICAgIGdsb2JhbDogZ2xvYmFsQ29uZmlnLFxuICAgICAgb3BlcmF0aW9uOiAndXBkYXRlJyxcbiAgICAgIHByZXZpb3VzRG9jLFxuICAgICAgcmVxLFxuICAgIH0pXG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gYWZ0ZXJDaGFuZ2UgLSBHbG9iYWxcbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBhd2FpdCBnbG9iYWxDb25maWcuaG9va3MuYWZ0ZXJDaGFuZ2UucmVkdWNlKGFzeW5jIChwcmlvckhvb2ssIGhvb2spID0+IHtcbiAgICAgIGF3YWl0IHByaW9ySG9va1xuXG4gICAgICByZXN1bHQgPVxuICAgICAgICAoYXdhaXQgaG9vayh7XG4gICAgICAgICAgY29udGV4dDogcmVxLmNvbnRleHQsXG4gICAgICAgICAgZG9jOiByZXN1bHQsXG4gICAgICAgICAgZ2xvYmFsOiBnbG9iYWxDb25maWcsXG4gICAgICAgICAgcHJldmlvdXNEb2MsXG4gICAgICAgICAgcmVxLFxuICAgICAgICB9KSkgfHwgcmVzdWx0XG4gICAgfSwgUHJvbWlzZS5yZXNvbHZlKCkpXG5cbiAgICBpZiAoc2hvdWxkQ29tbWl0KSBhd2FpdCBjb21taXRUcmFuc2FjdGlvbihyZXEpXG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgYXdhaXQga2lsbFRyYW5zYWN0aW9uKHJlcSlcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc3RvcmVWZXJzaW9uXG4iXSwibmFtZXMiOlsicmVzdG9yZVZlcnNpb24iLCJhcmdzIiwiaWQiLCJkZXB0aCIsImdsb2JhbENvbmZpZyIsIm92ZXJyaWRlQWNjZXNzIiwicmVxIiwicGF5bG9hZCIsInQiLCJzaG93SGlkZGVuRmllbGRzIiwic2hvdWxkQ29tbWl0IiwiaW5pdFRyYW5zYWN0aW9uIiwiZXhlY3V0ZUFjY2VzcyIsImFjY2VzcyIsInVwZGF0ZSIsImRvY3MiLCJ2ZXJzaW9uRG9jcyIsImRiIiwiZmluZEdsb2JhbFZlcnNpb25zIiwiZ2xvYmFsIiwic2x1ZyIsImxpbWl0Iiwid2hlcmUiLCJlcXVhbHMiLCJsZW5ndGgiLCJOb3RGb3VuZCIsInJhd1ZlcnNpb24iLCJwcmV2aW91c0RvYyIsImZpbmRHbG9iYWwiLCJyZXN1bHQiLCJ2ZXJzaW9uIiwidXBkYXRlR2xvYmFsIiwiZGF0YSIsImNyZWF0ZUdsb2JhbCIsImFmdGVyUmVhZCIsImNvbGxlY3Rpb24iLCJjb250ZXh0IiwiZG9jIiwiaG9va3MiLCJyZWR1Y2UiLCJwcmlvckhvb2siLCJob29rIiwiUHJvbWlzZSIsInJlc29sdmUiLCJhZnRlckNoYW5nZSIsIm9wZXJhdGlvbiIsImNvbW1pdFRyYW5zYWN0aW9uIiwiZXJyb3IiLCJraWxsVHJhbnNhY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7K0JBdUtBOzs7ZUFBQTs7O3NFQW5LMEI7d0JBQ0Q7NkJBQ0c7MkJBQ0Y7bUNBQ1E7aUNBQ0Y7aUNBQ0E7Ozs7OztBQVdoQyxlQUFlQSxlQUFtREMsSUFBZTtJQUMvRSxNQUFNLEVBQ0pDLEVBQUUsRUFDRkMsS0FBSyxFQUNMQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLENBQUMsRUFBRSxFQUNuQkYsR0FBRyxFQUNIRyxnQkFBZ0IsRUFDakIsR0FBR1I7SUFFSixJQUFJO1FBQ0YsTUFBTVMsZUFBZSxNQUFNQyxJQUFBQSxnQ0FBZSxFQUFDTDtRQUUzQyx3Q0FBd0M7UUFDeEMsU0FBUztRQUNULHdDQUF3QztRQUV4QyxJQUFJLENBQUNELGdCQUFnQjtZQUNuQixNQUFNTyxJQUFBQSxzQkFBYSxFQUFDO2dCQUFFTjtZQUFJLEdBQUdGLGFBQWFTLE1BQU0sQ0FBQ0MsTUFBTTtRQUN6RDtRQUVB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