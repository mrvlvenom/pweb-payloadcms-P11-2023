"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _executeAccess = /*#__PURE__*/ _interop_require_default(require("../../auth/executeAccess"));
const _combineQueries = require("../../database/combineQueries");
const _validateQueryPaths = require("../../database/queryValidation/validateQueryPaths");
const _afterRead = require("../../fields/hooks/afterRead");
const _commitTransaction = require("../../utilities/commitTransaction");
const _initTransaction = require("../../utilities/initTransaction");
const _killTransaction = require("../../utilities/killTransaction");
const _sanitizeInternalFields = /*#__PURE__*/ _interop_require_default(require("../../utilities/sanitizeInternalFields"));
const _buildCollectionFields = require("../../versions/buildCollectionFields");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
async function findVersions(args) {
    const { collection: { config: collectionConfig }, depth, limit, overrideAccess, page, req: { locale, payload }, req, showHiddenFields, sort, where } = args;
    try {
        const shouldCommit = await (0, _initTransaction.initTransaction)(req);
        // /////////////////////////////////////
        // Access
        // /////////////////////////////////////
        let accessResults;
        if (!overrideAccess) {
            accessResults = await (0, _executeAccess.default)({
                req
            }, collectionConfig.access.readVersions);
        }
        const versionFields = (0, _buildCollectionFields.buildVersionCollectionFields)(collectionConfig);
        await (0, _validateQueryPaths.validateQueryPaths)({
            collectionConfig,
            overrideAccess,
            req,
            versionFields,
            where
        });
        const fullWhere = (0, _combineQueries.combineQueries)(where, accessResults);
        // /////////////////////////////////////
        // Find
        // /////////////////////////////////////
        const paginatedDocs = await payload.db.findVersions({
            collection: collectionConfig.slug,
            limit: limit ?? 10,
            locale,
            page: page || 1,
            req,
            sort,
            where: fullWhere
        });
        // /////////////////////////////////////
        // beforeRead - Collection
        // /////////////////////////////////////
        let result = {
            ...paginatedDocs,
            docs: await Promise.all(paginatedDocs.docs.map(async (doc)=>{
                const docRef = doc;
                await collectionConfig.hooks.beforeRead.reduce(async (priorHook, hook)=>{
                    await priorHook;
                    docRef.version = await hook({
                        collection: collectionConfig,
                        context: req.context,
                        doc: docRef.version,
                        query: fullWhere,
                        req
                    }) || docRef.version;
                }, Promise.resolve());
                return docRef;
            }))
        };
        // /////////////////////////////////////
        // afterRead - Fields
        // /////////////////////////////////////
        result = {
            ...result,
            docs: await Promise.all(result.docs.map(async (data)=>({
                    ...data,
                    version: await (0, _afterRead.afterRead)({
                        collection: collectionConfig,
                        context: req.context,
                        depth,
                        doc: data.version,
                        findMany: true,
                        global: null,
                        overrideAccess,
                        req,
                        showHiddenFields
                    })
                })))
        };
        // /////////////////////////////////////
        // afterRead - Collection
        // /////////////////////////////////////
        result = {
            ...result,
            docs: await Promise.all(result.docs.map(async (doc)=>{
                const docRef = doc;
                await collectionConfig.hooks.afterRead.reduce(async (priorHook, hook)=>{
                    await priorHook;
                    docRef.version = await hook({
                        collection: collectionConfig,
                        context: req.context,
                        doc: doc.version,
                        findMany: true,
                        query: fullWhere,
                        req
                    }) || doc.version;
                }, Promise.resolve());
                return docRef;
            }))
        };
        // /////////////////////////////////////
        // Return results
        // /////////////////////////////////////
        result = {
            ...result,
            docs: result.docs.map((doc)=>(0, _sanitizeInternalFields.default)(doc))
        };
        if (shouldCommit) await (0, _commitTransaction.commitTransaction)(req);
        return result;
    } catch (error) {
        await (0, _killTransaction.killTransaction)(req);
        throw error;
    }
}
const _default = findVersions;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb2xsZWN0aW9ucy9vcGVyYXRpb25zL2ZpbmRWZXJzaW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFBhZ2luYXRlZERvY3MgfSBmcm9tICcuLi8uLi9kYXRhYmFzZS90eXBlcydcbmltcG9ydCB0eXBlIHsgUGF5bG9hZFJlcXVlc3QgfSBmcm9tICcuLi8uLi9leHByZXNzL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBXaGVyZSB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBUeXBlV2l0aFZlcnNpb24gfSBmcm9tICcuLi8uLi92ZXJzaW9ucy90eXBlcydcbmltcG9ydCB0eXBlIHsgQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbmZpZy90eXBlcydcblxuaW1wb3J0IGV4ZWN1dGVBY2Nlc3MgZnJvbSAnLi4vLi4vYXV0aC9leGVjdXRlQWNjZXNzJ1xuaW1wb3J0IHsgY29tYmluZVF1ZXJpZXMgfSBmcm9tICcuLi8uLi9kYXRhYmFzZS9jb21iaW5lUXVlcmllcydcbmltcG9ydCB7IHZhbGlkYXRlUXVlcnlQYXRocyB9IGZyb20gJy4uLy4uL2RhdGFiYXNlL3F1ZXJ5VmFsaWRhdGlvbi92YWxpZGF0ZVF1ZXJ5UGF0aHMnXG5pbXBvcnQgeyBhZnRlclJlYWQgfSBmcm9tICcuLi8uLi9maWVsZHMvaG9va3MvYWZ0ZXJSZWFkJ1xuaW1wb3J0IHsgY29tbWl0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvY29tbWl0VHJhbnNhY3Rpb24nXG5pbXBvcnQgeyBpbml0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaW5pdFRyYW5zYWN0aW9uJ1xuaW1wb3J0IHsga2lsbFRyYW5zYWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2tpbGxUcmFuc2FjdGlvbidcbmltcG9ydCBzYW5pdGl6ZUludGVybmFsRmllbGRzIGZyb20gJy4uLy4uL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzJ1xuaW1wb3J0IHsgYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyB9IGZyb20gJy4uLy4uL3ZlcnNpb25zL2J1aWxkQ29sbGVjdGlvbkZpZWxkcydcblxuZXhwb3J0IHR5cGUgQXJndW1lbnRzID0ge1xuICBjb2xsZWN0aW9uOiBDb2xsZWN0aW9uXG4gIGRlcHRoPzogbnVtYmVyXG4gIGxpbWl0PzogbnVtYmVyXG4gIG92ZXJyaWRlQWNjZXNzPzogYm9vbGVhblxuICBwYWdlPzogbnVtYmVyXG4gIHJlcT86IFBheWxvYWRSZXF1ZXN0XG4gIHNob3dIaWRkZW5GaWVsZHM/OiBib29sZWFuXG4gIHNvcnQ/OiBzdHJpbmdcbiAgd2hlcmU/OiBXaGVyZVxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kVmVyc2lvbnM8VCBleHRlbmRzIFR5cGVXaXRoVmVyc2lvbjxUPj4oXG4gIGFyZ3M6IEFyZ3VtZW50cyxcbik6IFByb21pc2U8UGFnaW5hdGVkRG9jczxUPj4ge1xuICBjb25zdCB7XG4gICAgY29sbGVjdGlvbjogeyBjb25maWc6IGNvbGxlY3Rpb25Db25maWcgfSxcbiAgICBkZXB0aCxcbiAgICBsaW1pdCxcbiAgICBvdmVycmlkZUFjY2VzcyxcbiAgICBwYWdlLFxuICAgIHJlcTogeyBsb2NhbGUsIHBheWxvYWQgfSxcbiAgICByZXEsXG4gICAgc2hvd0hpZGRlbkZpZWxkcyxcbiAgICBzb3J0LFxuICAgIHdoZXJlLFxuICB9ID0gYXJnc1xuXG4gIHRyeSB7XG4gICAgY29uc3Qgc2hvdWxkQ29tbWl0ID0gYXdhaXQgaW5pdFRyYW5zYWN0aW9uKHJlcSlcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBBY2Nlc3NcbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBsZXQgYWNjZXNzUmVzdWx0c1xuXG4gICAgaWYgKCFvdmVycmlkZUFjY2Vzcykge1xuICAgICAgYWNjZXNzUmVzdWx0cyA9IGF3YWl0IGV4ZWN1dGVBY2Nlc3MoeyByZXEgfSwgY29sbGVjdGlvbkNvbmZpZy5hY2Nlc3MucmVhZFZlcnNpb25zKVxuICAgIH1cblxuICAgIGNvbnN0IHZlcnNpb25GaWVsZHMgPSBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzKGNvbGxlY3Rpb25Db25maWcpXG5cbiAgICBhd2FpdCB2YWxpZGF0ZVF1ZXJ5UGF0aHMoe1xuICAgICAgY29sbGVjdGlvbkNvbmZpZyxcbiAgICAgIG92ZXJyaWRlQWNjZXNzLFxuICAgICAgcmVxLFxuICAgICAgdmVyc2lvbkZpZWxkcyxcbiAgICAgIHdoZXJlLFxuICAgIH0pXG5cbiAgICBjb25zdCBmdWxsV2hlcmUgPSBjb21iaW5lUXVlcmllcyh3aGVyZSwgYWNjZXNzUmVzdWx0cylcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBGaW5kXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY29uc3QgcGFnaW5hdGVkRG9jcyA9IGF3YWl0IHBheWxvYWQuZGIuZmluZFZlcnNpb25zPFQ+KHtcbiAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25Db25maWcuc2x1ZyxcbiAgICAgIGxpbWl0OiBsaW1pdCA/PyAxMCxcbiAgICAgIGxvY2FsZSxcbiAgICAgIHBhZ2U6IHBhZ2UgfHwgMSxcbiAgICAgIHJlcSxcbiAgICAgIHNvcnQsXG4gICAgICB3aGVyZTogZnVsbFdoZXJlLFxuICAgIH0pXG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gYmVmb3JlUmVhZCAtIENvbGxlY3Rpb25cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgLi4ucGFnaW5hdGVkRG9jcyxcbiAgICAgIGRvY3M6IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwYWdpbmF0ZWREb2NzLmRvY3MubWFwKGFzeW5jIChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBkb2NSZWYgPSBkb2NcbiAgICAgICAgICBhd2FpdCBjb2xsZWN0aW9uQ29uZmlnLmhvb2tzLmJlZm9yZVJlYWQucmVkdWNlKGFzeW5jIChwcmlvckhvb2ssIGhvb2spID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHByaW9ySG9va1xuXG4gICAgICAgICAgICBkb2NSZWYudmVyc2lvbiA9XG4gICAgICAgICAgICAgIChhd2FpdCBob29rKHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uQ29uZmlnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHJlcS5jb250ZXh0LFxuICAgICAgICAgICAgICAgIGRvYzogZG9jUmVmLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgcXVlcnk6IGZ1bGxXaGVyZSxcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgIH0pKSB8fCBkb2NSZWYudmVyc2lvblxuICAgICAgICAgIH0sIFByb21pc2UucmVzb2x2ZSgpKVxuXG4gICAgICAgICAgcmV0dXJuIGRvY1JlZlxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgfSBhcyBQYWdpbmF0ZWREb2NzPFQ+XG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gYWZ0ZXJSZWFkIC0gRmllbGRzXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgcmVzdWx0ID0ge1xuICAgICAgLi4ucmVzdWx0LFxuICAgICAgZG9jczogYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHJlc3VsdC5kb2NzLm1hcChhc3luYyAoZGF0YSkgPT4gKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHZlcnNpb246IGF3YWl0IGFmdGVyUmVhZCh7XG4gICAgICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uQ29uZmlnLFxuICAgICAgICAgICAgY29udGV4dDogcmVxLmNvbnRleHQsXG4gICAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICAgIGRvYzogZGF0YS52ZXJzaW9uLFxuICAgICAgICAgICAgZmluZE1hbnk6IHRydWUsXG4gICAgICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgICAgICAgICBvdmVycmlkZUFjY2VzcyxcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHNob3dIaWRkZW5GaWVsZHMsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pKSxcbiAgICAgICksXG4gICAgfVxuXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIGFmdGVyUmVhZCAtIENvbGxlY3Rpb25cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICByZXN1bHQgPSB7XG4gICAgICAuLi5yZXN1bHQsXG4gICAgICBkb2NzOiBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgcmVzdWx0LmRvY3MubWFwKGFzeW5jIChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBkb2NSZWYgPSBkb2NcblxuICAgICAgICAgIGF3YWl0IGNvbGxlY3Rpb25Db25maWcuaG9va3MuYWZ0ZXJSZWFkLnJlZHVjZShhc3luYyAocHJpb3JIb29rLCBob29rKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBwcmlvckhvb2tcblxuICAgICAgICAgICAgZG9jUmVmLnZlcnNpb24gPVxuICAgICAgICAgICAgICAoYXdhaXQgaG9vayh7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbkNvbmZpZyxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiByZXEuY29udGV4dCxcbiAgICAgICAgICAgICAgICBkb2M6IGRvYy52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIGZpbmRNYW55OiB0cnVlLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBmdWxsV2hlcmUsXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICB9KSkgfHwgZG9jLnZlcnNpb25cbiAgICAgICAgICB9LCBQcm9taXNlLnJlc29sdmUoKSlcblxuICAgICAgICAgIHJldHVybiBkb2NSZWZcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgIH1cblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBSZXR1cm4gcmVzdWx0c1xuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHJlc3VsdCA9IHtcbiAgICAgIC4uLnJlc3VsdCxcbiAgICAgIGRvY3M6IHJlc3VsdC5kb2NzLm1hcCgoZG9jKSA9PiBzYW5pdGl6ZUludGVybmFsRmllbGRzPFQ+KGRvYykpLFxuICAgIH1cblxuICAgIGlmIChzaG91bGRDb21taXQpIGF3YWl0IGNvbW1pdFRyYW5zYWN0aW9uKHJlcSlcblxuICAgIHJldHVybiByZXN1bHRcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICBhd2FpdCBraWxsVHJhbnNhY3Rpb24ocmVxKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZmluZFZlcnNpb25zXG4iXSwibmFtZXMiOlsiZmluZFZlcnNpb25zIiwiYXJncyIsImNvbGxlY3Rpb24iLCJjb25maWciLCJjb2xsZWN0aW9uQ29uZmlnIiwiZGVwdGgiLCJsaW1pdCIsIm92ZXJyaWRlQWNjZXNzIiwicGFnZSIsInJlcSIsImxvY2FsZSIsInBheWxvYWQiLCJzaG93SGlkZGVuRmllbGRzIiwic29ydCIsIndoZXJlIiwic2hvdWxkQ29tbWl0IiwiaW5pdFRyYW5zYWN0aW9uIiwiYWNjZXNzUmVzdWx0cyIsImV4ZWN1dGVBY2Nlc3MiLCJhY2Nlc3MiLCJyZWFkVmVyc2lvbnMiLCJ2ZXJzaW9uRmllbGRzIiwiYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyIsInZhbGlkYXRlUXVlcnlQYXRocyIsImZ1bGxXaGVyZSIsImNvbWJpbmVRdWVyaWVzIiwicGFnaW5hdGVkRG9jcyIsImRiIiwic2x1ZyIsInJlc3VsdCIsImRvY3MiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiZG9jIiwiZG9jUmVmIiwiaG9va3MiLCJiZWZvcmVSZWFkIiwicmVkdWNlIiwicHJpb3JIb29rIiwiaG9vayIsInZlcnNpb24iLCJjb250ZXh0IiwicXVlcnkiLCJyZXNvbHZlIiwiZGF0YSIsImFmdGVyUmVhZCIsImZpbmRNYW55IiwiZ2xvYmFsIiwic2FuaXRpemVJbnRlcm5hbEZpZWxkcyIsImNvbW1pdFRyYW5zYWN0aW9uIiwiZXJyb3IiLCJraWxsVHJhbnNhY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7K0JBcUxBOzs7ZUFBQTs7O3NFQS9LMEI7Z0NBQ0s7b0NBQ0k7MkJBQ1Q7bUNBQ1E7aUNBQ0Y7aUNBQ0E7K0VBQ0c7dUNBQ1U7Ozs7OztBQWM3QyxlQUFlQSxhQUNiQyxJQUFlO0lBRWYsTUFBTSxFQUNKQyxZQUFZLEVBQUVDLFFBQVFDLGdCQUFnQixFQUFFLEVBQ3hDQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsY0FBYyxFQUNkQyxJQUFJLEVBQ0pDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUUsRUFDeEJGLEdBQUcsRUFDSEcsZ0JBQWdCLEVBQ2hCQyxJQUFJLEVBQ0pDLEtBQUssRUFDTixHQUFHYjtJQUVKLElBQUk7UUFDRixNQUFNYyxlQUFlLE1BQU1DLElBQUFBLGdDQUFlLEVBQUNQO1FBRTNDLHdDQUF3QztRQUN4QyxTQUFTO1FBQ1Qsd0NBQXdDO1FBRXhDLElBQUlRO1FBRUosSUFBSSxDQUFDVixnQkFBZ0I7WUFDbkJVLGdCQUFnQixNQUFNQyxJQUFBQSxzQkFBYSxFQUFDO2dCQUFFVDtZQUFJLEdBQUdMLGlCQUFpQmUsTUFBTSxDQUFDQyxZQUFZO1FBQ25GO1FBRUEsTUFBTUMsZ0JBQWdCQyxJQUFBQSxtREFBNEIsRUFBQ2xCO1FBRW5ELE1BQU1tQixJQUFBQSxzQ0FBa0Is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