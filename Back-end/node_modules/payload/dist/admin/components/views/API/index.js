"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "API", {
    enumerable: true,
    get: function() {
        return API;
    }
});
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reacti18next = require("react-i18next");
const _ = require("../..");
const _api = require("../../../api");
const _CopyToClipboard = /*#__PURE__*/ _interop_require_default(require("../../elements/CopyToClipboard"));
const _Gutter = require("../../elements/Gutter");
const _Input = require("../../forms/field-types/Checkbox/Input");
const _Input1 = /*#__PURE__*/ _interop_require_default(require("../../forms/field-types/Select/Input"));
const _MinimizeMaximize = require("../../icons/MinimizeMaximize");
const _Config = require("../../utilities/Config");
const _DocumentInfo = require("../../utilities/DocumentInfo");
const _Locale = require("../../utilities/Locale");
const _SetStepNav = require("../collections/Edit/SetStepNav");
require("./index.scss");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const chars = {
    leftCurlyBracket: '\u007B',
    leftSquareBracket: '\u005B',
    rightCurlyBracket: '\u007D',
    rightSquareBracket: '\u005D'
};
const baseClass = 'query-inspector';
const Bracket = ({ comma = false, position, type })=>{
    const rightBracket = type === 'object' ? chars.rightCurlyBracket : chars.rightSquareBracket;
    const leftBracket = type === 'object' ? chars.leftCurlyBracket : chars.leftSquareBracket;
    const bracketToRender = position === 'end' ? rightBracket : leftBracket;
    return /*#__PURE__*/ _react.createElement("span", {
        className: `${baseClass}__bracket ${baseClass}__bracket--position-${position}`
    }, bracketToRender, position === 'end' && comma ? ',' : null);
};
const RecursivelyRenderObjectData = ({ isEmpty = false, object, objectKey, parentType = 'object', trailingComma = false })=>{
    const objectKeys = Object.keys(object);
    const objectLength = objectKeys.length;
    const [isOpen, setIsOpen] = _react.useState(true);
    return /*#__PURE__*/ _react.createElement("li", null, /*#__PURE__*/ _react.createElement("button", {
        "aria-label": "toggle",
        className: `${baseClass}__list-toggle ${isEmpty ? `${baseClass}__list-toggle--empty` : ''}`,
        onClick: ()=>setIsOpen(!isOpen),
        type: "button"
    }, isEmpty ? null : /*#__PURE__*/ _react.createElement(_.Chevron, {
        className: `${baseClass}__toggle-row-icon ${baseClass}__toggle-row-icon--${isOpen ? 'open' : 'closed'}`
    }), /*#__PURE__*/ _react.createElement("span", null, objectKey && `"${objectKey}": `, /*#__PURE__*/ _react.createElement(Bracket, {
        position: "start",
        type: parentType
    }), isEmpty ? /*#__PURE__*/ _react.createElement(Bracket, {
        comma: trailingComma,
        position: "end",
        type: parentType
    }) : null)), /*#__PURE__*/ _react.createElement("ul", {
        className: `${baseClass}__json-children`
    }, isOpen && objectKeys.map((key, keyIndex)=>{
        let value = object[key];
        let type = 'string';
        const isLastKey = keyIndex === objectLength - 1;
        if (value === null) {
            type = 'null';
        } else if (value instanceof Date) {
            type = 'date';
            value = value.toISOString();
        } else if (Array.isArray(value)) {
            type = 'array';
        } else if (typeof value === 'object') {
            type = 'object';
        } else if (typeof value === 'number') {
            type = 'number';
        } else {
            type = 'string';
        }
        if (type === 'object' || type === 'array') {
            return /*#__PURE__*/ _react.createElement(RecursivelyRenderObjectData, {
                isEmpty: value.length === 0 || Object.keys(value).length === 0,
                key: `${key}-${keyIndex}`,
                object: value,
                objectKey: parentType === 'object' ? key : undefined,
                parentType: type,
                trailingComma: !isLastKey
            });
        }
        if (type === 'date' || type === 'string' || type === 'null' || type === 'number') {
            const parentHasKey = Boolean(parentType === 'object' && key);
            const rowClasses = [
                `${baseClass}__row-line`,
                `${baseClass}__value-type--${type}`,
                `${baseClass}__row-line--${objectKey ? 'nested' : 'top'}`
            ].filter(Boolean).join(' ');
            return /*#__PURE__*/ _react.createElement("li", {
                className: rowClasses,
                key: `${key}-${keyIndex}`
            }, parentHasKey ? /*#__PURE__*/ _react.createElement("span", null, `"${key}": `) : null, type === 'string' ? /*#__PURE__*/ _react.createElement("span", {
                className: `${baseClass}__value`
            }, `"${value}"`) : /*#__PURE__*/ _react.createElement("span", {
                className: `${baseClass}__value`
            }, value), isLastKey ? '' : ',');
        }
    })), !isEmpty && /*#__PURE__*/ _react.createElement("span", null, /*#__PURE__*/ _react.createElement(Bracket, {
        comma: trailingComma,
        position: "end",
        type: parentType
    })));
};
function createURL(url) {
    if (url.startsWith('/')) {
        const domain = window.location.origin;
        return new URL(url, domain);
    } else {
        return new URL(url);
    }
}
const API = (props)=>{
    const { apiURL } = props;
    const { i18n } = (0, _reacti18next.useTranslation)();
    const { localization, routes: { api }, serverURL } = (0, _Config.useConfig)();
    const { id, collection, global } = (0, _DocumentInfo.useDocumentInfo)();
    const { code } = (0, _Locale.useLocale)();
    const url = createURL(apiURL);
    const draftsEnabled = collection?.versions?.drafts || global?.versions?.drafts;
    const docEndpoint = global ? `/globals/${global.slug}` : `/${collection.slug}/${id}`;
    const [data, setData] = _react.useState({});
    const [draft, setDraft] = _react.useState(url.searchParams.get('draft') === 'true');
    const [locale, setLocale] = _react.useState(url.searchParams.get('locale') || code);
    const [depth, setDepth] = _react.useState(url.searchParams.get('depth') || '1');
    const [authenticated, setAuthenticated] = _react.useState(true);
    const [fullscreen, setFullscreen] = _react.useState(false);
    const fetchURL = `${serverURL}${api}${docEndpoint}?locale=${locale}&draft=${draft}&depth=${depth}`;
    _react.useEffect(()=>{
        const fetchData = async ()=>{
            const request = await _api.requests.get(fetchURL, {
                credentials: authenticated ? 'include' : 'omit',
                headers: {
                    'Accept-Language': i18n.language
                }
            });
            const json = await request.json();
            setData(json);
        };
        fetchData();
    }, [
        i18n.language,
        fetchURL,
        authenticated
    ]);
    const localeOptions = localization && localization.locales.map((locale)=>({
            label: locale.label,
            value: locale.code
        }));
    const classes = [
        baseClass,
        fullscreen && `${baseClass}--fullscreen`
    ].filter(Boolean).join(' ');
    let isEditing;
    if ('collection' in props) {
        isEditing = props?.isEditing;
    }
    return /*#__PURE__*/ _react.createElement(_Gutter.Gutter, {
        className: classes,
        right: false
    }, /*#__PURE__*/ _react.createElement(_SetStepNav.SetStepNav, {
        collection: collection,
        global: global,
        id: id,
        isEditing: isEditing,
        view: "API"
    }), /*#__PURE__*/ _react.createElement("div", {
        className: `${baseClass}__configuration`
    }, /*#__PURE__*/ _react.createElement("div", {
        className: `${baseClass}__api-url`
    }, /*#__PURE__*/ _react.createElement("span", {
        className: `${baseClass}__label`
    }, "API URL ", /*#__PURE__*/ _react.createElement(_CopyToClipboard.default, {
        value: fetchURL
    })), /*#__PURE__*/ _react.createElement("a", {
        href: fetchURL,
        rel: "noopener noreferrer",
        target: "_blank"
    }, fetchURL)), /*#__PURE__*/ _react.createElement("div", {
        className: `${baseClass}__form-fields`
    }, /*#__PURE__*/ _react.createElement("div", {
        className: `${baseClass}__filter-query-checkboxes`
    }, draftsEnabled && /*#__PURE__*/ _react.createElement(_Input.CheckboxInput, {
        checked: draft,
        id: "draft-checkbox",
        label: "Draft",
        onToggle: ()=>setDraft(!draft)
    }), /*#__PURE__*/ _react.createElement(_Input.CheckboxInput, {
        checked: authenticated,
        id: "auth-checkbox",
        label: "Authenticated",
        onToggle: ()=>setAuthenticated(!authenticated)
    })), localeOptions && /*#__PURE__*/ _react.createElement(_Input1.default, {
        defaultValue: {
            label: locale,
            value: locale
        },
        label: "Locale",
        name: "locale",
        onChange: (e)=>setLocale(e.value),
        options: localeOptions,
        path: "locale"
    }), /*#__PURE__*/ _react.createElement(_Input1.default, {
        defaultValue: {
            label: depth,
            value: depth
        },
        label: "Depth",
        name: "depth",
        onChange: (e)=>setDepth(e.value),
        options: [
            {
                label: '0',
                value: '0'
            },
            {
                label: '1',
                value: '1'
            },
            {
                label: '2',
                value: '2'
            },
            {
                label: '3',
                value: '3'
            },
            {
                label: '4',
                value: '4'
            }
        ],
        path: "depth"
    }))), /*#__PURE__*/ _react.createElement("div", {
        className: `${baseClass}__results-wrapper`
    }, /*#__PURE__*/ _react.createElement("div", {
        className: `${baseClass}__toggle-fullscreen-button-container`
    }, /*#__PURE__*/ _react.createElement("button", {
        "aria-label": "toggle fullscreen",
        className: `${baseClass}__toggle-fullscreen-button`,
        onClick: ()=>setFullscreen(!fullscreen),
        type: "button"
    }, /*#__PURE__*/ _react.createElement(_MinimizeMaximize.MinimizeMaximize, {
        isMinimized: !fullscreen
    }))), /*#__PURE__*/ _react.createElement("div", {
        className: `${baseClass}__results`
    }, /*#__PURE__*/ _react.createElement(RecursivelyRenderObjectData, {
        object: data
    }))));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL3ZpZXdzL0FQSS9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5cbmltcG9ydCB0eXBlIHsgRWRpdFZpZXdQcm9wcyB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgeyBDaGV2cm9uIH0gZnJvbSAnLi4vLi4nXG5pbXBvcnQgeyByZXF1ZXN0cyB9IGZyb20gJy4uLy4uLy4uL2FwaSdcbmltcG9ydCBDb3B5VG9DbGlwYm9hcmQgZnJvbSAnLi4vLi4vZWxlbWVudHMvQ29weVRvQ2xpcGJvYXJkJ1xuaW1wb3J0IHsgR3V0dGVyIH0gZnJvbSAnLi4vLi4vZWxlbWVudHMvR3V0dGVyJ1xuaW1wb3J0IHsgQ2hlY2tib3hJbnB1dCB9IGZyb20gJy4uLy4uL2Zvcm1zL2ZpZWxkLXR5cGVzL0NoZWNrYm94L0lucHV0J1xuaW1wb3J0IFNlbGVjdElucHV0IGZyb20gJy4uLy4uL2Zvcm1zL2ZpZWxkLXR5cGVzL1NlbGVjdC9JbnB1dCdcbmltcG9ydCB7IE1pbmltaXplTWF4aW1pemUgfSBmcm9tICcuLi8uLi9pY29ucy9NaW5pbWl6ZU1heGltaXplJ1xuaW1wb3J0IHsgdXNlQ29uZmlnIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL0NvbmZpZydcbmltcG9ydCB7IHVzZURvY3VtZW50SW5mbyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9Eb2N1bWVudEluZm8nXG5pbXBvcnQgeyB1c2VMb2NhbGUgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvTG9jYWxlJ1xuaW1wb3J0IHsgU2V0U3RlcE5hdiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zL0VkaXQvU2V0U3RlcE5hdidcbmltcG9ydCAnLi9pbmRleC5zY3NzJ1xuXG5jb25zdCBjaGFycyA9IHtcbiAgbGVmdEN1cmx5QnJhY2tldDogJ1xcdTAwN0InLFxuICBsZWZ0U3F1YXJlQnJhY2tldDogJ1xcdTAwNUInLFxuICByaWdodEN1cmx5QnJhY2tldDogJ1xcdTAwN0QnLFxuICByaWdodFNxdWFyZUJyYWNrZXQ6ICdcXHUwMDVEJyxcbn1cblxuY29uc3QgYmFzZUNsYXNzID0gJ3F1ZXJ5LWluc3BlY3RvcidcblxuY29uc3QgQnJhY2tldCA9ICh7XG4gIGNvbW1hID0gZmFsc2UsXG4gIHBvc2l0aW9uLFxuICB0eXBlLFxufToge1xuICBjb21tYT86IGJvb2xlYW5cbiAgcG9zaXRpb246ICdlbmQnIHwgJ3N0YXJ0J1xuICB0eXBlOiAnYXJyYXknIHwgJ29iamVjdCdcbn0pID0+IHtcbiAgY29uc3QgcmlnaHRCcmFja2V0ID0gdHlwZSA9PT0gJ29iamVjdCcgPyBjaGFycy5yaWdodEN1cmx5QnJhY2tldCA6IGNoYXJzLnJpZ2h0U3F1YXJlQnJhY2tldFxuICBjb25zdCBsZWZ0QnJhY2tldCA9IHR5cGUgPT09ICdvYmplY3QnID8gY2hhcnMubGVmdEN1cmx5QnJhY2tldCA6IGNoYXJzLmxlZnRTcXVhcmVCcmFja2V0XG4gIGNvbnN0IGJyYWNrZXRUb1JlbmRlciA9IHBvc2l0aW9uID09PSAnZW5kJyA/IHJpZ2h0QnJhY2tldCA6IGxlZnRCcmFja2V0XG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19icmFja2V0ICR7YmFzZUNsYXNzfV9fYnJhY2tldC0tcG9zaXRpb24tJHtwb3NpdGlvbn1gfT5cbiAgICAgIHticmFja2V0VG9SZW5kZXJ9XG4gICAgICB7cG9zaXRpb24gPT09ICdlbmQnICYmIGNvbW1hID8gJywnIDogbnVsbH1cbiAgICA8L3NwYW4+XG4gIClcbn1cblxudHlwZSBBcmdzID0ge1xuICBpc0VtcHR5PzogYm9vbGVhblxuICBvYmplY3Q6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBhbnlbXVxuICBvYmplY3RLZXk/OiBzdHJpbmdcbiAgcGFyZW50VHlwZT86ICdhcnJheScgfCAnb2JqZWN0J1xuICB0cmFpbGluZ0NvbW1hPzogYm9vbGVhblxufVxuXG5jb25zdCBSZWN1cnNpdmVseVJlbmRlck9iamVjdERhdGEgPSAoe1xuICBpc0VtcHR5ID0gZmFsc2UsXG4gIG9iamVjdCxcbiAgb2JqZWN0S2V5LFxuICBwYXJlbnRUeXBlID0gJ29iamVjdCcsXG4gIHRyYWlsaW5nQ29tbWEgPSBmYWxzZSxcbn06IEFyZ3MpID0+IHtcbiAgY29uc3Qgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdClcbiAgY29uc3Qgb2JqZWN0TGVuZ3RoID0gb2JqZWN0S2V5cy5sZW5ndGhcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KHRydWUpXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9XCJ0b2dnbGVcIlxuICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2xpc3QtdG9nZ2xlICR7aXNFbXB0eSA/IGAke2Jhc2VDbGFzc31fX2xpc3QtdG9nZ2xlLS1lbXB0eWAgOiAnJ31gfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4oIWlzT3Blbil9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7aXNFbXB0eSA/IG51bGwgOiAoXG4gICAgICAgICAgPENoZXZyb25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fdG9nZ2xlLXJvdy1pY29uICR7YmFzZUNsYXNzfV9fdG9nZ2xlLXJvdy1pY29uLS0ke1xuICAgICAgICAgICAgICBpc09wZW4gPyAnb3BlbicgOiAnY2xvc2VkJ1xuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgPHNwYW4+XG4gICAgICAgICAge29iamVjdEtleSAmJiBgXCIke29iamVjdEtleX1cIjogYH1cbiAgICAgICAgICA8QnJhY2tldCBwb3NpdGlvbj1cInN0YXJ0XCIgdHlwZT17cGFyZW50VHlwZX0gLz5cbiAgICAgICAgICB7aXNFbXB0eSA/IDxCcmFja2V0IGNvbW1hPXt0cmFpbGluZ0NvbW1hfSBwb3NpdGlvbj1cImVuZFwiIHR5cGU9e3BhcmVudFR5cGV9IC8+IDogbnVsbH1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIDx1bCBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2pzb24tY2hpbGRyZW5gfT5cbiAgICAgICAge2lzT3BlbiAmJlxuICAgICAgICAgIG9iamVjdEtleXMubWFwKChrZXksIGtleUluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBvYmplY3Rba2V5XVxuICAgICAgICAgICAgbGV0IHR5cGUgPSAnc3RyaW5nJ1xuICAgICAgICAgICAgY29uc3QgaXNMYXN0S2V5ID0ga2V5SW5kZXggPT09IG9iamVjdExlbmd0aCAtIDFcblxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHR5cGUgPSAnbnVsbCdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgIHR5cGUgPSAnZGF0ZSdcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgIHR5cGUgPSAnYXJyYXknXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgdHlwZSA9ICdvYmplY3QnXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgdHlwZSA9ICdudW1iZXInXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0eXBlID0gJ3N0cmluZydcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8UmVjdXJzaXZlbHlSZW5kZXJPYmplY3REYXRhXG4gICAgICAgICAgICAgICAgICBpc0VtcHR5PXt2YWx1ZS5sZW5ndGggPT09IDAgfHwgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICAgICAgICAgIGtleT17YCR7a2V5fS0ke2tleUluZGV4fWB9XG4gICAgICAgICAgICAgICAgICBvYmplY3Q9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgb2JqZWN0S2V5PXtwYXJlbnRUeXBlID09PSAnb2JqZWN0JyA/IGtleSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgIHBhcmVudFR5cGU9e3R5cGV9XG4gICAgICAgICAgICAgICAgICB0cmFpbGluZ0NvbW1hPXshaXNMYXN0S2V5fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkYXRlJyB8fCB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVsbCcgfHwgdHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyZW50SGFzS2V5ID0gQm9vbGVhbihwYXJlbnRUeXBlID09PSAnb2JqZWN0JyAmJiBrZXkpXG5cbiAgICAgICAgICAgICAgY29uc3Qgcm93Q2xhc3NlcyA9IFtcbiAgICAgICAgICAgICAgICBgJHtiYXNlQ2xhc3N9X19yb3ctbGluZWAsXG4gICAgICAgICAgICAgICAgYCR7YmFzZUNsYXNzfV9fdmFsdWUtdHlwZS0tJHt0eXBlfWAsXG4gICAgICAgICAgICAgICAgYCR7YmFzZUNsYXNzfV9fcm93LWxpbmUtLSR7b2JqZWN0S2V5ID8gJ25lc3RlZCcgOiAndG9wJ31gLFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgICAgIC5qb2luKCcgJylcblxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9e3Jvd0NsYXNzZXN9IGtleT17YCR7a2V5fS0ke2tleUluZGV4fWB9PlxuICAgICAgICAgICAgICAgICAge3BhcmVudEhhc0tleSA/IDxzcGFuPntgXCIke2tleX1cIjogYH08L3NwYW4+IDogbnVsbH1cblxuICAgICAgICAgICAgICAgICAge3R5cGUgPT09ICdzdHJpbmcnID8gKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX3ZhbHVlYH0+e2BcIiR7dmFsdWV9XCJgfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fdmFsdWVgfT57dmFsdWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtpc0xhc3RLZXkgPyAnJyA6ICcsJ31cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuXG4gICAgICB7IWlzRW1wdHkgJiYgKFxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8QnJhY2tldCBjb21tYT17dHJhaWxpbmdDb21tYX0gcG9zaXRpb249XCJlbmRcIiB0eXBlPXtwYXJlbnRUeXBlfSAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVJMKHVybDogc3RyaW5nKSB7XG4gIGlmICh1cmwuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgY29uc3QgZG9tYWluID0gd2luZG93LmxvY2F0aW9uLm9yaWdpblxuICAgIHJldHVybiBuZXcgVVJMKHVybCwgZG9tYWluKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgVVJMKHVybClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQVBJOiBSZWFjdC5GQzxFZGl0Vmlld1Byb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGFwaVVSTCB9ID0gcHJvcHNcbiAgY29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbigpXG4gIGNvbnN0IHtcbiAgICBsb2NhbGl6YXRpb24sXG4gICAgcm91dGVzOiB7IGFwaSB9LFxuICAgIHNlcnZlclVSTCxcbiAgfSA9IHVzZUNvbmZpZygpXG4gIGNvbnN0IHsgaWQsIGNvbGxlY3Rpb24sIGdsb2JhbCB9ID0gdXNlRG9jdW1lbnRJbmZvKClcbiAgY29uc3QgeyBjb2RlIH0gPSB1c2VMb2NhbGUoKVxuICBjb25zdCB1cmwgPSBjcmVhdGVVUkwoYXBpVVJMKVxuXG4gIGNvbnN0IGRyYWZ0c0VuYWJsZWQgPSBjb2xsZWN0aW9uPy52ZXJzaW9ucz8uZHJhZnRzIHx8IGdsb2JhbD8udmVyc2lvbnM/LmRyYWZ0c1xuICBjb25zdCBkb2NFbmRwb2ludCA9IGdsb2JhbCA/IGAvZ2xvYmFscy8ke2dsb2JhbC5zbHVnfWAgOiBgLyR7Y29sbGVjdGlvbi5zbHVnfS8ke2lkfWBcblxuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSBSZWFjdC51c2VTdGF0ZTxhbnk+KHt9KVxuICBjb25zdCBbZHJhZnQsIHNldERyYWZ0XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdkcmFmdCcpID09PSAndHJ1ZScpXG4gIGNvbnN0IFtsb2NhbGUsIHNldExvY2FsZV0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdsb2NhbGUnKSB8fCBjb2RlKVxuICBjb25zdCBbZGVwdGgsIHNldERlcHRoXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4odXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2RlcHRoJykgfHwgJzEnKVxuICBjb25zdCBbYXV0aGVudGljYXRlZCwgc2V0QXV0aGVudGljYXRlZF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPih0cnVlKVxuICBjb25zdCBbZnVsbHNjcmVlbiwgc2V0RnVsbHNjcmVlbl0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcblxuICBjb25zdCBmZXRjaFVSTCA9IGAke3NlcnZlclVSTH0ke2FwaX0ke2RvY0VuZHBvaW50fT9sb2NhbGU9JHtsb2NhbGV9JmRyYWZ0PSR7ZHJhZnR9JmRlcHRoPSR7ZGVwdGh9YFxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHJlcXVlc3RzLmdldChmZXRjaFVSTCwge1xuICAgICAgICBjcmVkZW50aWFsczogYXV0aGVudGljYXRlZCA/ICdpbmNsdWRlJyA6ICdvbWl0JyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiBpMThuLmxhbmd1YWdlLFxuICAgICAgICB9LFxuICAgICAgfSlcblxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgICBzZXREYXRhKGpzb24pXG4gICAgfVxuXG4gICAgZmV0Y2hEYXRhKClcbiAgfSwgW2kxOG4ubGFuZ3VhZ2UsIGZldGNoVVJMLCBhdXRoZW50aWNhdGVkXSlcblxuICBjb25zdCBsb2NhbGVPcHRpb25zID1cbiAgICBsb2NhbGl6YXRpb24gJiZcbiAgICBsb2NhbGl6YXRpb24ubG9jYWxlcy5tYXAoKGxvY2FsZSkgPT4gKHsgbGFiZWw6IGxvY2FsZS5sYWJlbCwgdmFsdWU6IGxvY2FsZS5jb2RlIH0pKVxuXG4gIGNvbnN0IGNsYXNzZXMgPSBbYmFzZUNsYXNzLCBmdWxsc2NyZWVuICYmIGAke2Jhc2VDbGFzc30tLWZ1bGxzY3JlZW5gXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpXG5cbiAgbGV0IGlzRWRpdGluZzogYm9vbGVhblxuXG4gIGlmICgnY29sbGVjdGlvbicgaW4gcHJvcHMpIHtcbiAgICBpc0VkaXRpbmcgPSBwcm9wcz8uaXNFZGl0aW5nXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxHdXR0ZXIgY2xhc3NOYW1lPXtjbGFzc2VzfSByaWdodD17ZmFsc2V9PlxuICAgICAgPFNldFN0ZXBOYXZcbiAgICAgICAgY29sbGVjdGlvbj17Y29sbGVjdGlvbn1cbiAgICAgICAgZ2xvYmFsPXtnbG9iYWx9XG4gICAgICAgIGlkPXtpZH1cbiAgICAgICAgaXNFZGl0aW5nPXtpc0VkaXRpbmd9XG4gICAgICAgIHZpZXc9XCJBUElcIlxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19jb25maWd1cmF0aW9uYH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19hcGktdXJsYH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19sYWJlbGB9PlxuICAgICAgICAgICAgQVBJIFVSTCA8Q29weVRvQ2xpcGJvYXJkIHZhbHVlPXtmZXRjaFVSTH0gLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPGEgaHJlZj17ZmV0Y2hVUkx9IHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICAgIHtmZXRjaFVSTH1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19mb3JtLWZpZWxkc2B9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19maWx0ZXItcXVlcnktY2hlY2tib3hlc2B9PlxuICAgICAgICAgICAge2RyYWZ0c0VuYWJsZWQgJiYgKFxuICAgICAgICAgICAgICA8Q2hlY2tib3hJbnB1dFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2RyYWZ0fVxuICAgICAgICAgICAgICAgIGlkPVwiZHJhZnQtY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiRHJhZnRcIlxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXsoKSA9PiBzZXREcmFmdCghZHJhZnQpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxDaGVja2JveElucHV0XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2F1dGhlbnRpY2F0ZWR9XG4gICAgICAgICAgICAgIGlkPVwiYXV0aC1jaGVja2JveFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiQXV0aGVudGljYXRlZFwiXG4gICAgICAgICAgICAgIG9uVG9nZ2xlPXsoKSA9PiBzZXRBdXRoZW50aWNhdGVkKCFhdXRoZW50aWNhdGVkKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7bG9jYWxlT3B0aW9ucyAmJiAoXG4gICAgICAgICAgICA8U2VsZWN0SW5wdXRcbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXt7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGxvY2FsZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbG9jYWxlLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBsYWJlbD1cIkxvY2FsZVwiXG4gICAgICAgICAgICAgIG5hbWU9XCJsb2NhbGVcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldExvY2FsZShlLnZhbHVlIGFzIHN0cmluZyl9XG4gICAgICAgICAgICAgIG9wdGlvbnM9e2xvY2FsZU9wdGlvbnN9XG4gICAgICAgICAgICAgIHBhdGg9XCJsb2NhbGVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxTZWxlY3RJbnB1dFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXt7XG4gICAgICAgICAgICAgIGxhYmVsOiBkZXB0aCxcbiAgICAgICAgICAgICAgdmFsdWU6IGRlcHRoLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGxhYmVsPVwiRGVwdGhcIlxuICAgICAgICAgICAgbmFtZT1cImRlcHRoXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVwdGgoZS52YWx1ZSBhcyBzdHJpbmcpfVxuICAgICAgICAgICAgb3B0aW9ucz17W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICcwJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzAnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICcxJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzEnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICcyJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzInLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICczJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzMnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICc0JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzQnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAgIHBhdGg9XCJkZXB0aFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX3Jlc3VsdHMtd3JhcHBlcmB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fdG9nZ2xlLWZ1bGxzY3JlZW4tYnV0dG9uLWNvbnRhaW5lcmB9PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJ0b2dnbGUgZnVsbHNjcmVlblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX3RvZ2dsZS1mdWxsc2NyZWVuLWJ1dHRvbmB9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRGdWxsc2NyZWVuKCFmdWxsc2NyZWVuKX1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxNaW5pbWl6ZU1heGltaXplIGlzTWluaW1pemVkPXshZnVsbHNjcmVlbn0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19yZXN1bHRzYH0+XG4gICAgICAgICAgPFJlY3Vyc2l2ZWx5UmVuZGVyT2JqZWN0RGF0YSBvYmplY3Q9e2RhdGF9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9HdXR0ZXI+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJBUEkiLCJjaGFycyIsImxlZnRDdXJseUJyYWNrZXQiLCJsZWZ0U3F1YXJlQnJhY2tldCIsInJpZ2h0Q3VybHlCcmFja2V0IiwicmlnaHRTcXVhcmVCcmFja2V0IiwiYmFzZUNsYXNzIiwiQnJhY2tldCIsImNvbW1hIiwicG9zaXRpb24iLCJ0eXBlIiwicmlnaHRCcmFja2V0IiwibGVmdEJyYWNrZXQiLCJicmFja2V0VG9SZW5kZXIiLCJzcGFuIiwiY2xhc3NOYW1lIiwiUmVjdXJzaXZlbHlSZW5kZXJPYmplY3REYXRhIiwiaXNFbXB0eSIsIm9iamVjdCIsIm9iamVjdEtleSIsInBhcmVudFR5cGUiLCJ0cmFpbGluZ0NvbW1hIiwib2JqZWN0S2V5cyIsIk9iamVjdCIsImtleXMiLCJvYmplY3RMZW5ndGgiLCJsZW5ndGgiLCJpc09wZW4iLCJzZXRJc09wZW4iLCJSZWFjdCIsInVzZVN0YXRlIiwibGkiLCJidXR0b24iLCJhcmlhLWxhYmVsIiwib25DbGljayIsIkNoZXZyb24iLCJ1bCIsIm1hcCIsImtleSIsImtleUluZGV4IiwidmFsdWUiLCJpc0xhc3RLZXkiLCJEYXRlIiwidG9JU09TdHJpbmciLCJBcnJheSIsImlzQXJyYXkiLCJ1bmRlZmluZWQiLCJwYXJlbnRIYXNLZXkiLCJCb29sZWFuIiwicm93Q2xhc3NlcyIsImZpbHRlciIsImpvaW4iLCJjcmVhdGVVUkwiLCJ1cmwiLCJzdGFydHNXaXRoIiwiZG9tYWluIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJVUkwiLCJwcm9wcyIsImFwaVVSTCIsImkxOG4iLCJ1c2VUcmFuc2xhdGlvbiIsImxvY2FsaXphdGlvbiIsInJvdXRlcyIsImFwaSIsInNlcnZlclVSTCIsInVzZUNvbmZpZyIsImlkIiwiY29sbGVjdGlvbiIsImdsb2JhbCIsInVzZURvY3VtZW50SW5mbyIsImNvZGUiLCJ1c2VMb2NhbGUiLCJkcmFmdHNFbmFibGVkIiwidmVyc2lvbnMiLCJkcmFmdHMiLCJkb2NFbmRwb2ludCIsInNsdWciLCJkYXRhIiwic2V0RGF0YSIsImRyYWZ0Iiwic2V0RHJhZnQiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJsb2NhbGUiLCJzZXRMb2NhbGUiLCJkZXB0aCIsInNldERlcHRoIiwiYXV0aGVudGljYXRlZCIsInNldEF1dGhlbnRpY2F0ZWQiLCJmdWxsc2NyZWVuIiwic2V0RnVsbHNjcmVlbiIsImZldGNoVVJMIiwidXNlRWZmZWN0IiwiZmV0Y2hEYXRhIiwicmVxdWVzdCIsInJlcXVlc3RzIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwibGFuZ3VhZ2UiLCJqc29uIiwibG9jYWxlT3B0aW9ucyIsImxvY2FsZXMiLCJsYWJlbCIsImNsYXNzZXMiLCJpc0VkaXRpbmciLCJHdXR0ZXIiLCJyaWdodCIsIlNldFN0ZXBOYXYiLCJ2aWV3IiwiZGl2IiwiQ29weVRvQ2xpcGJvYXJkIiwiYSIsImhyZWYiLCJyZWwiLCJ0YXJnZXQiLCJDaGVja2JveElucHV0IiwiY2hlY2tlZCIsIm9uVG9nZ2xlIiwiU2VsZWN0SW5wdXQiLCJkZWZhdWx0VmFsdWUiLCJuYW1lIiwib25DaGFuZ2UiLCJlIiwib3B0aW9ucyIsInBhdGgiLCJNaW5pbWl6ZU1heGltaXplIiwiaXNNaW5pbWl6ZWQiXSwibWFwcGluZ3MiOiI7Ozs7K0JBd0thQTs7O2VBQUFBOzs7K0RBeEtVOzhCQUNRO2tCQUlQO3FCQUNDO3dFQUNHO3dCQUNMO3VCQUNPOytEQUNOO2tDQUNTO3dCQUNQOzhCQUNNO3dCQUNOOzRCQUNDO1FBQ3BCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFUCxNQUFNQyxRQUFRO0lBQ1pDLGtCQUFrQjtJQUNsQkMsbUJBQW1CO0lBQ25CQyxtQkFBbUI7SUFDbkJDLG9CQUFvQjtBQUN0QjtBQUVBLE1BQU1DLFlBQVk7QUFFbEIsTUFBTUMsVUFBVSxDQUFDLEVBQ2ZDLFFBQVEsS0FBSyxFQUNiQyxRQUFRLEVBQ1JDLElBQUksRUFLTDtJQUNDLE1BQU1DLGVBQWVELFNBQVMsV0FBV1QsTUFBTUcsaUJBQWlCLEdBQUdILE1BQU1JLGtCQUFrQjtJQUMzRixNQUFNTyxjQUFjRixTQUFTLFdBQVdULE1BQU1DLGdCQUFnQixHQUFHRCxNQUFNRSxpQkFBaUI7SUFDeEYsTUFBTVUsa0JBQWtCSixhQUFhLFFBQVFFLGVBQWVDO0lBQzVELHFCQUNFLHFCQUFDRTtRQUFLQyxXQUFXLENBQUMsRUFBRVQsVUFBVSxVQUFVLEVBQUVBLFVBQVUsb0JBQW9CLEVBQUVHLFNBQVMsQ0FBQztPQUNqRkksaUJBQ0FKLGFBQWEsU0FBU0QsUUFBUSxNQUFNO0FBRzNDO0FBVUEsTUFBTVEsOEJBQThCLENBQUMsRUFDbkNDLFVBQVUsS0FBSyxFQUNmQyxNQUFNLEVBQ05DLFNBQVMsRUFDVEMsYUFBYSxRQUFRLEVBQ3JCQyxnQkFBZ0IsS0FBSyxFQUNoQjtJQUNMLE1BQU1DLGFBQWFDLE9BQU9DLElBQUksQ0FBQ047SUFDL0IsTUFBTU8sZUFBZUgsV0FBV0ksTUFBTTtJQUN0QyxNQUFNLENBQUNDLFFBQVFDLFVB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