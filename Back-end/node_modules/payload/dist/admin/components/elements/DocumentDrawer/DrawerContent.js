"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "DocumentDrawerContent", {
    enumerable: true,
    get: function() {
        return DocumentDrawerContent;
    }
});
const _modal = require("@faceless-ui/modal");
const _qs = /*#__PURE__*/ _interop_require_default(require("qs"));
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reacti18next = require("react-i18next");
const _reacttoastify = require("react-toastify");
const _ = require(".");
const _getTranslation = require("../../../../utilities/getTranslation");
const _usePayloadAPI = /*#__PURE__*/ _interop_require_default(require("../../../hooks/usePayloadAPI"));
const _buildStateFromSchema = /*#__PURE__*/ _interop_require_default(require("../../forms/Form/buildStateFromSchema"));
const _fieldtypes = require("../../forms/field-types");
const _useRelatedCollections = require("../../forms/field-types/Relationship/AddNew/useRelatedCollections");
const _X = /*#__PURE__*/ _interop_require_default(require("../../icons/X"));
const _Auth = require("../../utilities/Auth");
const _Config = require("../../utilities/Config");
const _DocumentInfo = require("../../utilities/DocumentInfo");
const _FormQueryParams = require("../../utilities/FormQueryParams");
const _Locale = require("../../utilities/Locale");
const _RenderCustomComponent = /*#__PURE__*/ _interop_require_default(require("../../utilities/RenderCustomComponent"));
const _Default = /*#__PURE__*/ _interop_require_default(require("../../views/collections/Edit/Default"));
const _formatFields = /*#__PURE__*/ _interop_require_default(require("../../views/collections/Edit/formatFields"));
const _Button = /*#__PURE__*/ _interop_require_default(require("../Button"));
const _IDLabel = /*#__PURE__*/ _interop_require_default(require("../IDLabel"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const Content = ({ collectionSlug, customHeader, drawerSlug, onSave })=>{
    const { routes: { api }, serverURL } = (0, _Config.useConfig)();
    const { closeModal, modalState, toggleModal } = (0, _modal.useModal)();
    const { code: locale } = (0, _Locale.useLocale)();
    const { user } = (0, _Auth.useAuth)();
    const [internalState, setInternalState] = (0, _react.useState)();
    const { i18n, t } = (0, _reacti18next.useTranslation)([
        'fields',
        'general'
    ]);
    const hasInitializedState = (0, _react.useRef)(false);
    const [isOpen, setIsOpen] = (0, _react.useState)(false);
    const [collectionConfig] = (0, _useRelatedCollections.useRelatedCollections)(collectionSlug);
    const config = (0, _Config.useConfig)();
    const { formQueryParams } = (0, _FormQueryParams.useFormQueryParams)();
    const formattedQueryParams = _qs.default.stringify(formQueryParams);
    const { admin: { components: { views: { Edit } = {} } = {} } = {} } = collectionConfig;
    const { id, docPermissions, getDocPreferences } = (0, _DocumentInfo.useDocumentInfo)();
    // The component definition could come from multiple places in the config
    // we need to cascade into the proper component from the top-down
    // 1. "components.Edit"
    // 2. "components.Edit.Default"
    // 3. "components.Edit.Default.Component"
    const CustomEditView = typeof Edit === 'function' ? Edit : typeof Edit === 'object' && typeof Edit.Default === 'function' ? Edit.Default : typeof Edit?.Default === 'object' && typeof Edit.Default.Component === 'function' ? Edit.Default.Component : undefined;
    const [fields, setFields] = (0, _react.useState)(()=>(0, _formatFields.default)(collectionConfig, true));
    // no need to an additional requests when creating new documents
    const initialID = (0, _react.useRef)(id);
    const [{ data, isError, isLoading: isLoadingDocument }] = (0, _usePayloadAPI.default)(initialID.current ? `${serverURL}${api}/${collectionSlug}/${initialID.current}` : null, {
        initialParams: {
            depth: 0,
            draft: 'true',
            'fallback-locale': 'null'
        }
    });
    (0, _react.useEffect)(()=>{
        setFields((0, _formatFields.default)(collectionConfig, true));
    }, [
        collectionSlug,
        collectionConfig
    ]);
    (0, _react.useEffect)(()=>{
        if (isLoadingDocument || hasInitializedState.current) {
            return;
        }
        const awaitInitialState = async ()=>{
            const preferences = await getDocPreferences();
            const state = await (0, _buildStateFromSchema.default)({
                id,
                config,
                data,
                fieldSchema: fields,
                locale,
                operation: id ? 'update' : 'create',
                preferences,
                t,
                user
            });
            setInternalState(state);
        };
        awaitInitialState();
        hasInitializedState.current = true;
    }, [
        data,
        fields,
        id,
        user,
        locale,
        isLoadingDocument,
        t,
        getDocPreferences,
        config
    ]);
    (0, _react.useEffect)(()=>{
        setIsOpen(Boolean(modalState[drawerSlug]?.isOpen));
    }, [
        modalState,
        drawerSlug
    ]);
    (0, _react.useEffect)(()=>{
        if (isOpen && !isLoadingDocument && isError) {
            closeModal(drawerSlug);
            _reacttoastify.toast.error(data.errors?.[0].message || t('error:unspecific'));
        }
    }, [
        isError,
        t,
        isOpen,
        data,
        drawerSlug,
        closeModal,
        isLoadingDocument
    ]);
    if (isError) return null;
    const isEditing = Boolean(id);
    const apiURL = id ? `${serverURL}${api}/${collectionSlug}/${id}?locale=${locale}` : null;
    const action = `${serverURL}${api}/${collectionSlug}${isEditing ? `/${id}` : ''}?${formattedQueryParams}`;
    const hasSavePermission = isEditing && docPermissions?.update?.permission || !isEditing && docPermissions?.create?.permission;
    const isLoading = !internalState || !docPermissions || isLoadingDocument;
    return /*#__PURE__*/ _react.default.createElement(_RenderCustomComponent.default, {
        CustomComponent: CustomEditView,
        DefaultComponent: _Default.default,
        componentProps: {
            id,
            action,
            apiURL,
            collection: collectionConfig,
            customHeader: /*#__PURE__*/ _react.default.createElement("div", {
                className: `${_.baseClass}__header`
            }, /*#__PURE__*/ _react.default.createElement("div", {
                className: `${_.baseClass}__header-content`
            }, /*#__PURE__*/ _react.default.createElement("h2", {
                className: `${_.baseClass}__header-text`
            }, !customHeader ? t(!id ? 'fields:addNewLabel' : 'general:editLabel', {
                label: (0, _getTranslation.getTranslation)(collectionConfig.labels.singular, i18n)
            }) : customHeader), /*#__PURE__*/ _react.default.createElement(_Button.default, {
                "aria-label": t('general:close'),
                buttonStyle: "none",
                className: `${_.baseClass}__header-close`,
                onClick: ()=>toggleModal(drawerSlug)
            }, /*#__PURE__*/ _react.default.createElement(_X.default, null))), id && /*#__PURE__*/ _react.default.createElement(_IDLabel.default, {
                id: id.toString()
            })),
            data,
            disableActions: true,
            disableLeaveWithoutSaving: true,
            disableRoutes: true,
            fieldTypes: _fieldtypes.fieldTypes,
            hasSavePermission,
            internalState,
            isEditing,
            isLoading,
            me: true,
            onSave,
            permissions: docPermissions
        }
    });
};
const DocumentDrawerContent = (props)=>{
    const { id: idFromProps, collectionSlug, onSave: onSaveFromProps } = props;
    const [collectionConfig] = (0, _useRelatedCollections.useRelatedCollections)(collectionSlug);
    const [id, setId] = (0, _react.useState)(idFromProps);
    const onSave = (0, _react.useCallback)((args)=>{
        setId(args.doc.id);
        if (typeof onSaveFromProps === 'function') {
            onSaveFromProps({
                ...args,
                collectionConfig
            });
        }
    }, [
        onSaveFromProps,
        collectionConfig
    ]);
    return /*#__PURE__*/ _react.default.createElement(_DocumentInfo.DocumentInfoProvider, {
        collection: collectionConfig,
        id: id
    }, /*#__PURE__*/ _react.default.createElement(Content, {
        ...props,
        onSave: onSave
    }));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2VsZW1lbnRzL0RvY3VtZW50RHJhd2VyL0RyYXdlckNvbnRlbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1vZGFsIH0gZnJvbSAnQGZhY2VsZXNzLXVpL21vZGFsJ1xuaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3FzJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSAncmVhY3QtdG9hc3RpZnknXG5cbmltcG9ydCB0eXBlIHsgQ29sbGVjdGlvblBlcm1pc3Npb24gfSBmcm9tICcuLi8uLi8uLi8uLi9hdXRoJ1xuaW1wb3J0IHR5cGUgeyBGaWVsZHMgfSBmcm9tICcuLi8uLi9mb3Jtcy9Gb3JtL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBEb2N1bWVudERyYXdlclByb3BzIH0gZnJvbSAnLi90eXBlcydcblxuaW1wb3J0IHsgYmFzZUNsYXNzIH0gZnJvbSAnLidcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbGl0aWVzL2dldFRyYW5zbGF0aW9uJ1xuaW1wb3J0IHVzZVBheWxvYWRBUEkgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlUGF5bG9hZEFQSSdcbmltcG9ydCBidWlsZFN0YXRlRnJvbVNjaGVtYSBmcm9tICcuLi8uLi9mb3Jtcy9Gb3JtL2J1aWxkU3RhdGVGcm9tU2NoZW1hJ1xuaW1wb3J0IHsgZmllbGRUeXBlcyB9IGZyb20gJy4uLy4uL2Zvcm1zL2ZpZWxkLXR5cGVzJ1xuaW1wb3J0IHsgdXNlUmVsYXRlZENvbGxlY3Rpb25zIH0gZnJvbSAnLi4vLi4vZm9ybXMvZmllbGQtdHlwZXMvUmVsYXRpb25zaGlwL0FkZE5ldy91c2VSZWxhdGVkQ29sbGVjdGlvbnMnXG5pbXBvcnQgWCBmcm9tICcuLi8uLi9pY29ucy9YJ1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9BdXRoJ1xuaW1wb3J0IHsgdXNlQ29uZmlnIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL0NvbmZpZydcbmltcG9ydCB7IERvY3VtZW50SW5mb1Byb3ZpZGVyLCB1c2VEb2N1bWVudEluZm8gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvRG9jdW1lbnRJbmZvJ1xuaW1wb3J0IHsgdXNlRm9ybVF1ZXJ5UGFyYW1zIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL0Zvcm1RdWVyeVBhcmFtcydcbmltcG9ydCB7IHVzZUxvY2FsZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9Mb2NhbGUnXG5pbXBvcnQgUmVuZGVyQ3VzdG9tQ29tcG9uZW50IGZyb20gJy4uLy4uL3V0aWxpdGllcy9SZW5kZXJDdXN0b21Db21wb25lbnQnXG5pbXBvcnQgRGVmYXVsdEVkaXQgZnJvbSAnLi4vLi4vdmlld3MvY29sbGVjdGlvbnMvRWRpdC9EZWZhdWx0J1xuaW1wb3J0IGZvcm1hdEZpZWxkcyBmcm9tICcuLi8uLi92aWV3cy9jb2xsZWN0aW9ucy9FZGl0L2Zvcm1hdEZpZWxkcydcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vQnV0dG9uJ1xuaW1wb3J0IElETGFiZWwgZnJvbSAnLi4vSURMYWJlbCdcblxuY29uc3QgQ29udGVudDogUmVhY3QuRkM8RG9jdW1lbnREcmF3ZXJQcm9wcz4gPSAoe1xuICBjb2xsZWN0aW9uU2x1ZyxcbiAgY3VzdG9tSGVhZGVyLFxuICBkcmF3ZXJTbHVnLFxuICBvblNhdmUsXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICByb3V0ZXM6IHsgYXBpIH0sXG4gICAgc2VydmVyVVJMLFxuICB9ID0gdXNlQ29uZmlnKClcbiAgY29uc3QgeyBjbG9zZU1vZGFsLCBtb2RhbFN0YXRlLCB0b2dnbGVNb2RhbCB9ID0gdXNlTW9kYWwoKVxuICBjb25zdCB7IGNvZGU6IGxvY2FsZSB9ID0gdXNlTG9jYWxlKClcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKClcbiAgY29uc3QgW2ludGVybmFsU3RhdGUsIHNldEludGVybmFsU3RhdGVdID0gdXNlU3RhdGU8RmllbGRzPigpXG4gIGNvbnN0IHsgaTE4biwgdCB9ID0gdXNlVHJhbnNsYXRpb24oWydmaWVsZHMnLCAnZ2VuZXJhbCddKVxuICBjb25zdCBoYXNJbml0aWFsaXplZFN0YXRlID0gdXNlUmVmKGZhbHNlKVxuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtjb2xsZWN0aW9uQ29uZmlnXSA9IHVzZVJlbGF0ZWRDb2xsZWN0aW9ucyhjb2xsZWN0aW9uU2x1ZylcbiAgY29uc3QgY29uZmlnID0gdXNlQ29uZmlnKClcbiAgY29uc3QgeyBmb3JtUXVlcnlQYXJhbXMgfSA9IHVzZUZvcm1RdWVyeVBhcmFtcygpXG4gIGNvbnN0IGZvcm1hdHRlZFF1ZXJ5UGFyYW1zID0gcXVlcnlTdHJpbmcuc3RyaW5naWZ5KGZvcm1RdWVyeVBhcmFtcylcblxuICBjb25zdCB7IGFkbWluOiB7IGNvbXBvbmVudHM6IHsgdmlld3M6IHsgRWRpdCB9ID0ge30gfSA9IHt9IH0gPSB7fSB9ID0gY29sbGVjdGlvbkNvbmZpZ1xuXG4gIGNvbnN0IHsgaWQsIGRvY1Blcm1pc3Npb25zLCBnZXREb2NQcmVmZXJlbmNlcyB9ID0gdXNlRG9jdW1lbnRJbmZvKClcblxuICAvLyBUaGUgY29tcG9uZW50IGRlZmluaXRpb24gY291bGQgY29tZSBmcm9tIG11bHRpcGxlIHBsYWNlcyBpbiB0aGUgY29uZmlnXG4gIC8vIHdlIG5lZWQgdG8gY2FzY2FkZSBpbnRvIHRoZSBwcm9wZXIgY29tcG9uZW50IGZyb20gdGhlIHRvcC1kb3duXG4gIC8vIDEuIFwiY29tcG9uZW50cy5FZGl0XCJcbiAgLy8gMi4gXCJjb21wb25lbnRzLkVkaXQuRGVmYXVsdFwiXG4gIC8vIDMuIFwiY29tcG9uZW50cy5FZGl0LkRlZmF1bHQuQ29tcG9uZW50XCJcbiAgY29uc3QgQ3VzdG9tRWRpdFZpZXcgPVxuICAgIHR5cGVvZiBFZGl0ID09PSAnZnVuY3Rpb24nXG4gICAgICA/IEVkaXRcbiAgICAgIDogdHlwZW9mIEVkaXQgPT09ICdvYmplY3QnICYmIHR5cGVvZiBFZGl0LkRlZmF1bHQgPT09ICdmdW5jdGlvbidcbiAgICAgID8gRWRpdC5EZWZhdWx0XG4gICAgICA6IHR5cGVvZiBFZGl0Py5EZWZhdWx0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgRWRpdC5EZWZhdWx0LkNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyBFZGl0LkRlZmF1bHQuQ29tcG9uZW50XG4gICAgICA6IHVuZGVmaW5lZFxuXG4gIGNvbnN0IFtmaWVsZHMsIHNldEZpZWxkc10gPSB1c2VTdGF0ZSgoKSA9PiBmb3JtYXRGaWVsZHMoY29sbGVjdGlvbkNvbmZpZywgdHJ1ZSkpXG5cbiAgLy8gbm8gbmVlZCB0byBhbiBhZGRpdGlvbmFsIHJlcXVlc3RzIHdoZW4gY3JlYXRpbmcgbmV3IGRvY3VtZW50c1xuICBjb25zdCBpbml0aWFsSUQgPSB1c2VSZWYoaWQpXG4gIGNvbnN0IFt7IGRhdGEsIGlzRXJyb3IsIGlzTG9hZGluZzogaXNMb2FkaW5nRG9jdW1lbnQgfV0gPSB1c2VQYXlsb2FkQVBJKFxuICAgIGluaXRpYWxJRC5jdXJyZW50ID8gYCR7c2VydmVyVVJMfSR7YXBpfS8ke2NvbGxlY3Rpb25TbHVnfS8ke2luaXRpYWxJRC5jdXJyZW50fWAgOiBudWxsLFxuICAgIHsgaW5pdGlhbFBhcmFtczogeyBkZXB0aDogMCwgZHJhZnQ6ICd0cnVlJywgJ2ZhbGxiYWNrLWxvY2FsZSc6ICdudWxsJyB9IH0sXG4gIClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEZpZWxkcyhmb3JtYXRGaWVsZHMoY29sbGVjdGlvbkNvbmZpZywgdHJ1ZSkpXG4gIH0sIFtjb2xsZWN0aW9uU2x1ZywgY29sbGVjdGlvbkNvbmZpZ10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNMb2FkaW5nRG9jdW1lbnQgfHwgaGFzSW5pdGlhbGl6ZWRTdGF0ZS5jdXJyZW50KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBhd2FpdEluaXRpYWxTdGF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gYXdhaXQgZ2V0RG9jUHJlZmVyZW5jZXMoKVxuICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBidWlsZFN0YXRlRnJvbVNjaGVtYSh7XG4gICAgICAgIGlkLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGZpZWxkU2NoZW1hOiBmaWVsZHMsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgb3BlcmF0aW9uOiBpZCA/ICd1cGRhdGUnIDogJ2NyZWF0ZScsXG4gICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICB0LFxuICAgICAgICB1c2VyLFxuICAgICAgfSlcbiAgICAgIHNldEludGVybmFsU3RhdGUoc3RhdGUpXG4gICAgfVxuXG4gICAgYXdhaXRJbml0aWFsU3RhdGUoKVxuICAgIGhhc0luaXRpYWxpemVkU3RhdGUuY3VycmVudCA9IHRydWVcbiAgfSwgW2RhdGEsIGZpZWxkcywgaWQsIHVzZXIsIGxvY2FsZSwgaXNMb2FkaW5nRG9jdW1lbnQsIHQsIGdldERvY1ByZWZlcmVuY2VzLCBjb25maWddKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNPcGVuKEJvb2xlYW4obW9kYWxTdGF0ZVtkcmF3ZXJTbHVnXT8uaXNPcGVuKSlcbiAgfSwgW21vZGFsU3RhdGUsIGRyYXdlclNsdWddKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzT3BlbiAmJiAhaXNMb2FkaW5nRG9jdW1lbnQgJiYgaXNFcnJvcikge1xuICAgICAgY2xvc2VNb2RhbChkcmF3ZXJTbHVnKVxuICAgICAgdG9hc3QuZXJyb3IoZGF0YS5lcnJvcnM/LlswXS5tZXNzYWdlIHx8IHQoJ2Vycm9yOnVuc3BlY2lmaWMnKSlcbiAgICB9XG4gIH0sIFtpc0Vycm9yLCB0LCBpc09wZW4sIGRhdGEsIGRyYXdlclNsdWcsIGNsb3NlTW9kYWwsIGlzTG9hZGluZ0RvY3VtZW50XSlcblxuICBpZiAoaXNFcnJvcikgcmV0dXJuIG51bGxcblxuICBjb25zdCBpc0VkaXRpbmcgPSBCb29sZWFuKGlkKVxuXG4gIGNvbnN0IGFwaVVSTCA9IGlkID8gYCR7c2VydmVyVVJMfSR7YXBpfS8ke2NvbGxlY3Rpb25TbHVnfS8ke2lkfT9sb2NhbGU9JHtsb2NhbGV9YCA6IG51bGxcblxuICBjb25zdCBhY3Rpb24gPSBgJHtzZXJ2ZXJVUkx9JHthcGl9LyR7Y29sbGVjdGlvblNsdWd9JHtcbiAgICBpc0VkaXRpbmcgPyBgLyR7aWR9YCA6ICcnXG4gIH0/JHtmb3JtYXR0ZWRRdWVyeVBhcmFtc31gXG5cbiAgY29uc3QgaGFzU2F2ZVBlcm1pc3Npb24gPVxuICAgIChpc0VkaXRpbmcgJiYgZG9jUGVybWlzc2lvbnM/LnVwZGF0ZT8ucGVybWlzc2lvbikgfHxcbiAgICAoIWlzRWRpdGluZyAmJiAoZG9jUGVybWlzc2lvbnMgYXMgQ29sbGVjdGlvblBlcm1pc3Npb24pPy5jcmVhdGU/LnBlcm1pc3Npb24pXG5cbiAgY29uc3QgaXNMb2FkaW5nID0gIWludGVybmFsU3RhdGUgfHwgIWRvY1Blcm1pc3Npb25zIHx8IGlzTG9hZGluZ0RvY3VtZW50XG5cbiAgcmV0dXJuIChcbiAgICA8UmVuZGVyQ3VzdG9tQ29tcG9uZW50XG4gICAgICBDdXN0b21Db21wb25lbnQ9e0N1c3RvbUVkaXRWaWV3fVxuICAgICAgRGVmYXVsdENvbXBvbmVudD17RGVmYXVsdEVkaXR9XG4gICAgICBjb21wb25lbnRQcm9wcz17e1xuICAgICAgICBpZCxcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICBhcGlVUkwsXG4gICAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25Db25maWcsXG4gICAgICAgIGN1c3RvbUhlYWRlcjogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19oZWFkZXJgfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19oZWFkZXItY29udGVudGB9PlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19oZWFkZXItdGV4dGB9PlxuICAgICAgICAgICAgICAgIHshY3VzdG9tSGVhZGVyXG4gICAgICAgICAgICAgICAgICA/IHQoIWlkID8gJ2ZpZWxkczphZGROZXdMYWJlbCcgOiAnZ2VuZXJhbDplZGl0TGFiZWwnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGdldFRyYW5zbGF0aW9uKGNvbGxlY3Rpb25Db25maWcubGFiZWxzLnNpbmd1bGFyLCBpMThuKSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIDogY3VzdG9tSGVhZGVyfVxuICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dCgnZ2VuZXJhbDpjbG9zZScpfVxuICAgICAgICAgICAgICAgIGJ1dHRvblN0eWxlPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19oZWFkZXItY2xvc2VgfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZU1vZGFsKGRyYXdlclNsdWcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFggLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtpZCAmJiA8SURMYWJlbCBpZD17aWQudG9TdHJpbmcoKX0gLz59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICksXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGRpc2FibGVBY3Rpb25zOiB0cnVlLFxuICAgICAgICBkaXNhYmxlTGVhdmVXaXRob3V0U2F2aW5nOiB0cnVlLFxuICAgICAgICBkaXNhYmxlUm91dGVzOiB0cnVlLFxuICAgICAgICBmaWVsZFR5cGVzLFxuICAgICAgICBoYXNTYXZlUGVybWlzc2lvbixcbiAgICAgICAgaW50ZXJuYWxTdGF0ZSxcbiAgICAgICAgaXNFZGl0aW5nLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIG1lOiB0cnVlLFxuICAgICAgICBvblNhdmUsXG4gICAgICAgIHBlcm1pc3Npb25zOiBkb2NQZXJtaXNzaW9ucyxcbiAgICAgIH19XG4gICAgLz5cbiAgKVxufVxuXG4vLyBGaXJzdCBwcm92aWRlIHRoZSBkb2N1bWVudCBjb250ZXh0IHVzaW5nIGBEb2N1bWVudEluZm9Qcm92aWRlcmBcbi8vIHRoaXMgaXMgc28gd2UgY2FuIHV0aWxpemUgdGhlIGB1c2VEb2N1bWVudEluZm9gIGhvb2sgaW4gdGhlIGBDb250ZW50YCBjb21wb25lbnRcbi8vIHRoaXMgZHJhd2VyIGlzIHVzZWQgZm9yIGJvdGggY3JlYXRpbmcgYW5kIGVkaXRpbmcgZG9jdW1lbnRzXG4vLyB0aGlzIG1lYW5zIHRoYXQgdGhlIGBpZGAgbWF5IGJlIHVua25vd24gdW50aWwgdGhlIGRvY3VtZW50IGlzIGNyZWF0ZWRcbmV4cG9ydCBjb25zdCBEb2N1bWVudERyYXdlckNvbnRlbnQ6IFJlYWN0LkZDPERvY3VtZW50RHJhd2VyUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaWQ6IGlkRnJvbVByb3BzLCBjb2xsZWN0aW9uU2x1Zywgb25TYXZlOiBvblNhdmVGcm9tUHJvcHMgfSA9IHByb3BzXG4gIGNvbnN0IFtjb2xsZWN0aW9uQ29uZmlnXSA9IHVzZVJlbGF0ZWRDb2xsZWN0aW9ucyhjb2xsZWN0aW9uU2x1ZylcbiAgY29uc3QgW2lkLCBzZXRJZF0gPSB1c2VTdGF0ZTxudWxsIHwgc3RyaW5nPihpZEZyb21Qcm9wcylcblxuICBjb25zdCBvblNhdmUgPSB1c2VDYWxsYmFjazxEb2N1bWVudERyYXdlclByb3BzWydvblNhdmUnXT4oXG4gICAgKGFyZ3MpID0+IHtcbiAgICAgIHNldElkKGFyZ3MuZG9jLmlkKVxuXG4gICAgICBpZiAodHlwZW9mIG9uU2F2ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvblNhdmVGcm9tUHJvcHMoe1xuICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgY29sbGVjdGlvbkNvbmZpZyxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICAgIFtvblNhdmVGcm9tUHJvcHMsIGNvbGxlY3Rpb25Db25maWddLFxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8RG9jdW1lbnRJbmZvUHJvdmlkZXIgY29sbGVjdGlvbj17Y29sbGVjdGlvbkNvbmZpZ30gaWQ9e2lkfT5cbiAgICAgIDxDb250ZW50IHsuLi5wcm9wc30gb25TYXZlPXtvblNhdmV9IC8+XG4gICAgPC9Eb2N1bWVudEluZm9Qcm92aWRlcj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkRvY3VtZW50RHJhd2VyQ29udGVudCIsIkNvbnRlbnQiLCJjb2xsZWN0aW9uU2x1ZyIsImN1c3RvbUhlYWRlciIsImRyYXdlclNsdWciLCJvblNhdmUiLCJyb3V0ZXMiLCJhcGkiLCJzZXJ2ZXJVUkwiLCJ1c2VDb25maWciLCJjbG9zZU1vZGFsIiwibW9kYWxTdGF0ZSIsInRvZ2dsZU1vZGFsIiwidXNlTW9kYWwiLCJjb2RlIiwibG9jYWxlIiwidXNlTG9jYWxlIiwidXNlciIsInVzZUF1dGgiLCJpbnRlcm5hbFN0YXRlIiwic2V0SW50ZXJuYWxTdGF0ZSIsInVzZVN0YXRlIiwiaTE4biIsInQiLCJ1c2VUcmFuc2xhdGlvbiIsImhhc0luaXRpYWxpemVkU3RhdGUiLCJ1c2VSZWYiLCJpc09wZW4iLCJzZXRJc09wZW4iLCJjb2xsZWN0aW9uQ29uZmlnIiwidXNlUmVsYXRlZENvbGxlY3Rpb25zIiwiY29uZmlnIiwiZm9ybVF1ZXJ5UGFyYW1zIiwidXNlRm9ybVF1ZXJ5UGFyYW1zIiwiZm9ybWF0dGVkUXVlcnlQYXJhbXMiLCJxdWVyeVN0cmluZyIsInN0cmluZ2lmeSIsImFkbWluIiwiY29tcG9uZW50cyIsInZpZXdzIiwiRWRpdCIsImlkIiwiZG9jUGVybWlzc2lvbnMiLCJnZXREb2NQcmVmZXJlbmNlcyIsInVzZURvY3VtZW50SW5mbyIsIkN1c3RvbUVkaXRWaWV3IiwiRGVmYXVsdCIsIkNvbXBvbmVudCIsInVuZGVmaW5lZCIsImZpZWxkcyIsInNldEZpZWxkcyIsImZvcm1hdEZpZWxkcyIsImluaXRpYWxJRCIsImRhdGEiLCJpc0Vycm9yIiwiaXNMb2FkaW5nIiwiaXNMb2FkaW5nRG9jdW1lbnQiLCJ1c2VQYXlsb2FkQVBJIiwiY3VycmVudCIsImluaXRpYWxQYXJhbXMiLCJkZXB0aCIsImRyYWZ0IiwidXNlRWZmZWN0IiwiYXdhaXRJbml0aWFsU3RhdGUiLCJwcmVmZXJlbmNlcyIsInN0YXRlIiwiYnVpbGRTdGF0ZUZyb21TY2hlbWEiLCJmaWVsZFNjaGVtYSIsIm9wZXJhdGlvbiIsIkJvb2xlYW4iLCJ0b2FzdCIsImVycm9yIiwiZXJyb3JzIiwibWVzc2FnZSIsImlzRWRpdGluZyIsImFwaVVSTCIsImFjdGlvbiIsImhhc1NhdmVQZXJtaXNzaW9uIiwidXBkYXRlIiwicGVybWlzc2lvbiIsImNyZWF0ZSIsIlJlbmRlckN1c3RvbUNvbXBvbmVudCIsIkN1c3RvbUNvbXBvbmVudCIsIkRlZmF1bHRDb21wb25lbnQiLCJEZWZhdWx0RWRpdCIsImNvbXBvbmVudFByb3BzIiwiY29sbGVjdGlvbiIsImRpdiIsImNsYXNzTmFtZSIsImJhc2VDbGFzcyIsImgyIiwibGFiZWwiLCJnZXRUcmFuc2xhdGlvbiIsImxhYmVscyIsInNpbmd1bGFyIiwiQnV0dG9uIiwiYXJpYS1sYWJlbCIsImJ1dHRvblN0eWxlIiwib25DbGljayIsIlgiLCJJRExhYmVsIiwidG9TdHJpbmciLCJkaXNhYmxlQWN0aW9ucyIsImRpc2FibGVMZWF2ZVdpdGhvdXRTYXZpbmciLCJkaXNhYmxlUm91dGVzIiwiZmllbGRUeXBlcyIsIm1lIiwicGVybWlzc2lvbnMiLCJwcm9wcyIsImlkRnJvbVByb3BzIiwib25TYXZlRnJvbVByb3BzIiwic2V0SWQiLCJ1c2VDYWxsYmFjayIsImFyZ3MiLCJkb2MiLCJEb2N1bWVudEluZm9Qcm92aWRlciJdLCJtYXBwaW5ncyI6Ijs7OzsrQkF5TGFBOzs7ZUFBQUE7Ozt1QkF6TFk7MkRBQ0Q7K0RBQ3dDOzhCQUNqQzsrQkFDVDtrQkFNSTtnQ0FDSztzRUFDTDs2RUFDTzs0QkFDTjt1Q0FDVzswREFDeEI7c0JBQ1U7d0JBQ0U7OEJBQzRCO2lDQUNuQjt3QkFDVDs4RUFDUTtnRUFDVjtxRUFDQzsrREFDTjtnRUFDQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXBCLE1BQU1DLFVBQXlDLENBQUMsRUFDOUNDLGNBQWMsRUFDZEMsWUFBWSxFQUNaQyxVQUFVLEVBQ1ZDLE1BQU0sRUFDUDtJQUNDLE1BQU0sRUFDSkMsUUFBUSxFQUFFQyxHQUFHLEVBQUUsRUFDZkMsU0FBUyxFQUNWLEdBQUdDLElBQUFBLGlCQUFTO0lBQ2IsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLFVBQVUsRUFBRUMsV0FBVyxFQUFFLEdBQUdDLElBQUFBLGVBQVE7SUFDeEQsTUFBTSxFQUFFQyxNQUFNQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVM7SUFDbEMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR0MsSUFBQUEsYUFBTztJQUN4QixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHQyxJQUFBQSxlQUFRO0lBQ2xELE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxDQUFDLEVBQUUsR0FBR0MsSUFBQUEsNEJBQWMsRUFBQztRQUFDO1FBQVU7S0FBVTtJQUN4RCxNQUFNQyxzQkFBc0JDLElBQUFBLGFBQU0sRUFBQztJQUNuQyxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR1AsSUFBQUEsZUFBUSxFQUFDO0lBQ3JDLE1BQU0sQ0FBQ1EsaUJBQWlCLEdBQUdDLElBQUFBLDRDQUFxQixFQUFDNUI7SUFDakQsTUFBTTZCLFNB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