"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    StepNavProvider: function() {
        return StepNavProvider;
    },
    useStepNav: function() {
        return useStepNav;
    },
    default: function() {
        return _default;
    }
});
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reacti18next = require("react-i18next");
const _reactrouterdom = require("react-router-dom");
const _graphics = require("../../../../exports/components/graphics");
const _getTranslation = require("../../../../utilities/getTranslation");
const _Config = require("../../utilities/Config");
require("./index.scss");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const baseClass = 'step-nav';
const Context = /*#__PURE__*/ (0, _react.createContext)({});
const StepNavProvider = ({ children })=>{
    const [stepNav, setStepNav] = (0, _react.useState)([]);
    return /*#__PURE__*/ _react.default.createElement(Context.Provider, {
        value: {
            setStepNav,
            stepNav
        }
    }, children);
};
const useStepNav = ()=>(0, _react.useContext)(Context);
const StepNav = (props)=>{
    const { className } = props;
    const { i18n } = (0, _reacti18next.useTranslation)();
    const { stepNav } = useStepNav();
    const config = (0, _Config.useConfig)();
    const { routes: { admin } } = config;
    return /*#__PURE__*/ _react.default.createElement(_react.Fragment, null, stepNav.length > 0 ? /*#__PURE__*/ _react.default.createElement("nav", {
        className: [
            baseClass,
            className
        ].filter(Boolean).join(' ')
    }, /*#__PURE__*/ _react.default.createElement(_reactrouterdom.Link, {
        className: `${baseClass}__home`,
        tabIndex: 0,
        to: admin
    }, /*#__PURE__*/ _react.default.createElement(_graphics.IconGraphic, null)), /*#__PURE__*/ _react.default.createElement("span", null, "/"), stepNav.map((item, i)=>{
        const StepLabel = /*#__PURE__*/ _react.default.createElement("span", {
            key: i
        }, (0, _getTranslation.getTranslation)(item.label, i18n));
        const Step = stepNav.length === i + 1 ? StepLabel : /*#__PURE__*/ _react.default.createElement(_react.Fragment, {
            key: i
        }, item.url ? /*#__PURE__*/ _react.default.createElement(_reactrouterdom.Link, {
            to: item.url
        }, StepLabel) : StepLabel, /*#__PURE__*/ _react.default.createElement("span", null, "/"));
        return Step;
    })) : /*#__PURE__*/ _react.default.createElement("div", {
        className: [
            baseClass,
            className
        ].filter(Boolean).join(' ')
    }, /*#__PURE__*/ _react.default.createElement(_graphics.IconGraphic, null)));
};
const _default = StepNav;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2VsZW1lbnRzL1N0ZXBOYXYvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCwgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuXG5pbXBvcnQgdHlwZSB7IENvbnRleHQgYXMgQ29udGV4dFR5cGUgfSBmcm9tICcuL3R5cGVzJ1xuXG5pbXBvcnQgeyBJY29uR3JhcGhpYyB9IGZyb20gJy4uLy4uLy4uLy4uL2V4cG9ydHMvY29tcG9uZW50cy9ncmFwaGljcydcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbGl0aWVzL2dldFRyYW5zbGF0aW9uJ1xuaW1wb3J0IHsgdXNlQ29uZmlnIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL0NvbmZpZydcbmltcG9ydCAnLi9pbmRleC5zY3NzJ1xuXG5jb25zdCBiYXNlQ2xhc3MgPSAnc3RlcC1uYXYnXG5cbmNvbnN0IENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9IGFzIENvbnRleHRUeXBlKVxuXG5jb25zdCBTdGVwTmF2UHJvdmlkZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFtzdGVwTmF2LCBzZXRTdGVwTmF2XSA9IHVzZVN0YXRlKFtdKVxuXG4gIHJldHVybiAoXG4gICAgPENvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIHNldFN0ZXBOYXYsXG4gICAgICAgIHN0ZXBOYXYsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0NvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cblxuY29uc3QgdXNlU3RlcE5hdiA9ICgpOiBDb250ZXh0VHlwZSA9PiB1c2VDb250ZXh0KENvbnRleHQpXG5cbmNvbnN0IFN0ZXBOYXY6IFJlYWN0LkZDPHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG59PiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSB9ID0gcHJvcHNcbiAgY29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbigpXG5cbiAgY29uc3QgeyBzdGVwTmF2IH0gPSB1c2VTdGVwTmF2KClcbiAgY29uc3QgY29uZmlnID0gdXNlQ29uZmlnKClcbiAgY29uc3Qge1xuICAgIHJvdXRlczogeyBhZG1pbiB9LFxuICB9ID0gY29uZmlnXG5cbiAgcmV0dXJuIChcbiAgICA8RnJhZ21lbnQ+XG4gICAgICB7c3RlcE5hdi5sZW5ndGggPiAwID8gKFxuICAgICAgICA8bmF2IGNsYXNzTmFtZT17W2Jhc2VDbGFzcywgY2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpfT5cbiAgICAgICAgICA8TGluayBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2hvbWVgfSB0YWJJbmRleD17MH0gdG89e2FkbWlufT5cbiAgICAgICAgICAgIDxJY29uR3JhcGhpYyAvPlxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8c3Bhbj4vPC9zcGFuPlxuICAgICAgICAgIHtzdGVwTmF2Lm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgU3RlcExhYmVsID0gPHNwYW4ga2V5PXtpfT57Z2V0VHJhbnNsYXRpb24oaXRlbS5sYWJlbCwgaTE4bil9PC9zcGFuPlxuICAgICAgICAgICAgY29uc3QgU3RlcCA9XG4gICAgICAgICAgICAgIHN0ZXBOYXYubGVuZ3RoID09PSBpICsgMSA/IChcbiAgICAgICAgICAgICAgICBTdGVwTGFiZWxcbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8RnJhZ21lbnQga2V5PXtpfT5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLnVybCA/IDxMaW5rIHRvPXtpdGVtLnVybH0+e1N0ZXBMYWJlbH08L0xpbms+IDogU3RlcExhYmVsfVxuICAgICAgICAgICAgICAgICAgPHNwYW4+Lzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgIHJldHVybiBTdGVwXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvbmF2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e1tiYXNlQ2xhc3MsIGNsYXNzTmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKX0+XG4gICAgICAgICAgPEljb25HcmFwaGljIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L0ZyYWdtZW50PlxuICApXG59XG5cbmV4cG9ydCB7IFN0ZXBOYXZQcm92aWRlciwgdXNlU3RlcE5hdiB9XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBOYXZcbiJdLCJuYW1lcyI6WyJTdGVwTmF2UHJvdmlkZXIiLCJ1c2VTdGVwTmF2IiwiYmFzZUNsYXNzIiwiQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJjaGlsZHJlbiIsInN0ZXBOYXYiLCJzZXRTdGVwTmF2IiwidXNlU3RhdGUiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQ29udGV4dCIsIlN0ZXBOYXYiLCJwcm9wcyIsImNsYXNzTmFtZSIsImkxOG4iLCJ1c2VUcmFuc2xhdGlvbiIsImNvbmZpZyIsInVzZUNvbmZpZyIsInJvdXRlcyIsImFkbWluIiwiRnJhZ21lbnQiLCJsZW5ndGgiLCJuYXYiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsIkxpbmsiLCJ0YWJJbmRleCIsInRvIiwiSWNvbkdyYXBoaWMiLCJzcGFuIiwibWFwIiwiaXRlbSIsImkiLCJTdGVwTGFiZWwiLCJrZXkiLCJnZXRUcmFuc2xhdGlvbiIsImxhYmVsIiwiU3RlcCIsInVybCIsImRpdiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7SUE0RVNBLGVBQWU7ZUFBZkE7O0lBQWlCQyxVQUFVO2VBQVZBOztJQUUxQixPQUFzQjtlQUF0Qjs7OytEQTlFcUU7OEJBQ3RDO2dDQUNWOzBCQUlPO2dDQUNHO3dCQUNMO1FBQ25COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRVAsTUFBTUMsWUFBWTtBQUVsQixNQUFNQyx3QkFBVUMsSUFBQUEsb0JBQWEsRUFBQyxDQUFDO0FBRS9CLE1BQU1KLGtCQUE0RCxDQUFDLEVBQUVLLFFBQVEsRUFBRTtJQUM3RSxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR0MsSUFBQUEsZUFBUSxFQUFDLEVBQUU7SUFFekMscUJBQ0UsNkJBQUNMLFFBQVFNLFFBQVE7UUFDZkMsT0FBTztZQUNMSDtZQUNBRDtRQUNGO09BRUNEO0FBR1A7QUFFQSxNQUFNSixhQUFhLElBQW1CVSxJQUFBQSxpQkFBVSxFQUFDUjtBQUVqRCxNQUFNUyxVQUVELENBQUNDO0lBQ0osTUFBTSxFQUFFQyxTQUFTLEVBQUUsR0FBR0Q7SUFDdEIsTUFBTSxFQUFFRSxJQUFJLEVBQUUsR0FBR0MsSUFBQUEsNEJBQWM7SUFFL0IsTUFBTSxFQUFFVixPQUFPLEVBQUUsR0FBR0w7SUFDcEIsTUFBTWdCLFNBQVNDLElBQUFBLGlCQUFTO0lBQ3hCLE1BQU0sRUFDSkMsUUFBUSxFQUFFQyxLQUFLLEVBQUUsRUFDbEIsR0FBR0g7SUFFSixxQkFDRSw2QkFBQ0ksZUFBUSxRQUNOZixRQUFRZ0IsTUFBTSxHQUFHLGtCQUNoQiw2QkFBQ0M7UUFBSVQsV0FBVztZQUFDWjtZQUFXWTtTQUFVLENBQUNVLE1BQU0sQ0FBQ0MsU0FBU0MsSUFBSSxDQUFDO3FCQUMxRCw2QkFBQ0Msb0JBQUk7UUFBQ2IsV0FBVyxDQUFDLEVBQUVaLFVBQVUsTUFBTSxDQUFDO1FBQUUwQixVQUFVO1FBQUdDLElBQUlUO3FCQUN0RCw2QkFBQ1UscUJBQVcsd0JBRWQsNkJBQUNDLGNBQUssTUFDTHpCLFFBQVEwQixHQUFHLENBQUMsQ0FBQ0MsTUFBTUM7UUFDbEIsTUFBTUMsMEJBQVksNkJBQUNKO1lBQUtLLEtBQUtGO1dBQUlHLElBQUFBLDhCQUFjLEVBQUNKLEtBQUtLLEtBQUssRUFBRXZCO1FBQzVELE1BQU13QixPQUNKakMsUUFBUWdCLE1BQU0sS0FBS1ksSUFBSSxJQUNyQkMsMEJBRUEsNkJBQUNkLGVBQVE7WUFBQ2UsS0FBS0Y7V0FDWkQsS0FBS08sR0FBRyxpQkFBRyw2QkFBQ2Isb0JBQUk7WUFBQ0UsSUFBSUksS0FBS08sR0FBRztXQUFHTCxhQUFvQkEseUJBQ3JELDZCQUFDSixjQUFLO1FBSVosT0FBT1E7SUFDVCxvQkFHRiw2QkFBQ0U7UUFBSTNCLFdBQVc7WUFBQ1o7WUFBV1k7U0FBVSxDQUFDVSxNQUFNLENBQUNDLFNBQVNDLElBQUksQ0FBQztxQkFDMUQsNkJBQUNJLHFCQUFXO0FBS3RCO01BSUEsV0FBZWxCIn0=