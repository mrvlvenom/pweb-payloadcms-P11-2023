"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ListControls", {
    enumerable: true,
    get: function() {
        return ListControls;
    }
});
const _windowinfo = require("@faceless-ui/window-info");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reactanimateheight = /*#__PURE__*/ _interop_require_default(require("react-animate-height"));
const _reacti18next = require("react-i18next");
const _types = require("../../../../fields/config/types");
const _getTranslation = require("../../../../utilities/getTranslation");
const _Chevron = /*#__PURE__*/ _interop_require_default(require("../../icons/Chevron"));
const _SearchParams = require("../../utilities/SearchParams");
const _Button = /*#__PURE__*/ _interop_require_default(require("../Button"));
const _ColumnSelector = /*#__PURE__*/ _interop_require_default(require("../ColumnSelector"));
const _DeleteMany = /*#__PURE__*/ _interop_require_default(require("../DeleteMany"));
const _EditMany = /*#__PURE__*/ _interop_require_default(require("../EditMany"));
const _Pill = /*#__PURE__*/ _interop_require_default(require("../Pill"));
const _PublishMany = /*#__PURE__*/ _interop_require_default(require("../PublishMany"));
const _SearchFilter = /*#__PURE__*/ _interop_require_default(require("../SearchFilter"));
const _SortComplex = /*#__PURE__*/ _interop_require_default(require("../SortComplex"));
const _UnpublishMany = /*#__PURE__*/ _interop_require_default(require("../UnpublishMany"));
const _WhereBuilder = /*#__PURE__*/ _interop_require_default(require("../WhereBuilder"));
const _validateWhereQuery = /*#__PURE__*/ _interop_require_default(require("../WhereBuilder/validateWhereQuery"));
const _getTextFieldsToBeSearched = require("./getTextFieldsToBeSearched");
require("./index.scss");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const baseClass = 'list-controls';
const ListControls = (props)=>{
    const { collection: { admin: { listSearchableFields }, fields }, collection, enableColumns = true, enableSort = false, handleSearchChange, handleSortChange, handleWhereChange, modifySearchQuery = true, resetParams, titleField } = props;
    const params = (0, _SearchParams.useSearchParams)();
    const shouldInitializeWhereOpened = (0, _validateWhereQuery.default)(params?.where);
    const [textFieldsToBeSearched, setFieldsToBeSearched] = (0, _react.useState)((0, _getTextFieldsToBeSearched.getTextFieldsToBeSearched)(listSearchableFields, fields));
    const [visibleDrawer, setVisibleDrawer] = (0, _react.useState)(shouldInitializeWhereOpened ? 'where' : undefined);
    const { i18n, t } = (0, _reacti18next.useTranslation)('general');
    const { breakpoints: { s: smallBreak } } = (0, _windowinfo.useWindowInfo)();
    _react.default.useEffect(()=>{
        setFieldsToBeSearched((0, _getTextFieldsToBeSearched.getTextFieldsToBeSearched)(listSearchableFields, fields));
    }, [
        listSearchableFields,
        fields
    ]);
    return /*#__PURE__*/ _react.default.createElement("div", {
        className: baseClass
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__wrap`
    }, /*#__PURE__*/ _react.default.createElement(_SearchFilter.default, {
        fieldLabel: (titleField && (0, _getTranslation.getTranslation)(titleField.label || titleField.name, i18n)) ?? undefined,
        fieldName: titleField && (0, _types.fieldAffectsData)(titleField) ? titleField.name : undefined,
        handleChange: handleSearchChange,
        listSearchableFields: textFieldsToBeSearched,
        modifySearchQuery: modifySearchQuery
    }), /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__buttons`
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__buttons-wrap`
    }, !smallBreak && /*#__PURE__*/ _react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/ _react.default.createElement(_EditMany.default, {
        collection: collection,
        resetParams: resetParams
    }), /*#__PURE__*/ _react.default.createElement(_PublishMany.default, {
        collection: collection,
        resetParams: resetParams
    }), /*#__PURE__*/ _react.default.createElement(_UnpublishMany.default, {
        collection: collection,
        resetParams: resetParams
    }), /*#__PURE__*/ _react.default.createElement(_DeleteMany.default, {
        collection: collection,
        resetParams: resetParams
    })), enableColumns && /*#__PURE__*/ _react.default.createElement(_Pill.default, {
        "aria-controls": `${baseClass}-columns`,
        "aria-expanded": visibleDrawer === 'columns',
        className: `${baseClass}__toggle-columns ${visibleDrawer === 'columns' ? `${baseClass}__buttons-active` : ''}`,
        icon: /*#__PURE__*/ _react.default.createElement(_Chevron.default, null),
        onClick: ()=>setVisibleDrawer(visibleDrawer !== 'columns' ? 'columns' : undefined),
        pillStyle: "light"
    }, t('columns')), /*#__PURE__*/ _react.default.createElement(_Pill.default, {
        "aria-controls": `${baseClass}-where`,
        "aria-expanded": visibleDrawer === 'where',
        className: `${baseClass}__toggle-where ${visibleDrawer === 'where' ? `${baseClass}__buttons-active` : ''}`,
        icon: /*#__PURE__*/ _react.default.createElement(_Chevron.default, null),
        onClick: ()=>setVisibleDrawer(visibleDrawer !== 'where' ? 'where' : undefined),
        pillStyle: "light"
    }, t('filters')), enableSort && /*#__PURE__*/ _react.default.createElement(_Button.default, {
        "aria-controls": `${baseClass}-sort`,
        "aria-expanded": visibleDrawer === 'sort',
        buttonStyle: visibleDrawer === 'sort' ? undefined : 'secondary',
        className: `${baseClass}__toggle-sort`,
        icon: "chevron",
        iconStyle: "none",
        onClick: ()=>setVisibleDrawer(visibleDrawer !== 'sort' ? 'sort' : undefined)
    }, t('sort'))))), enableColumns && /*#__PURE__*/ _react.default.createElement(_reactanimateheight.default, {
        className: `${baseClass}__columns`,
        height: visibleDrawer === 'columns' ? 'auto' : 0,
        id: `${baseClass}-columns`
    }, /*#__PURE__*/ _react.default.createElement(_ColumnSelector.default, {
        collection: collection
    })), /*#__PURE__*/ _react.default.createElement(_reactanimateheight.default, {
        className: `${baseClass}__where`,
        height: visibleDrawer === 'where' ? 'auto' : 0,
        id: `${baseClass}-where`
    }, /*#__PURE__*/ _react.default.createElement(_WhereBuilder.default, {
        collection: collection,
        handleChange: handleWhereChange,
        modifySearchQuery: modifySearchQuery
    })), enableSort && /*#__PURE__*/ _react.default.createElement(_reactanimateheight.default, {
        className: `${baseClass}__sort`,
        height: visibleDrawer === 'sort' ? 'auto' : 0,
        id: `${baseClass}-sort`
    }, /*#__PURE__*/ _react.default.createElement(_SortComplex.default, {
        collection: collection,
        handleChange: handleSortChange,
        modifySearchQuery: modifySearchQuery
    })));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2VsZW1lbnRzL0xpc3RDb250cm9scy9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlV2luZG93SW5mbyB9IGZyb20gJ0BmYWNlbGVzcy11aS93aW5kb3ctaW5mbydcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEFuaW1hdGVIZWlnaHQgZnJvbSAncmVhY3QtYW5pbWF0ZS1oZWlnaHQnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5cbmltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuL3R5cGVzJ1xuXG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vZmllbGRzL2NvbmZpZy90eXBlcydcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbGl0aWVzL2dldFRyYW5zbGF0aW9uJ1xuaW1wb3J0IENoZXZyb24gZnJvbSAnLi4vLi4vaWNvbnMvQ2hldnJvbidcbmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9TZWFyY2hQYXJhbXMnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL0J1dHRvbidcbmltcG9ydCBDb2x1bW5TZWxlY3RvciBmcm9tICcuLi9Db2x1bW5TZWxlY3RvcidcbmltcG9ydCBEZWxldGVNYW55IGZyb20gJy4uL0RlbGV0ZU1hbnknXG5pbXBvcnQgRWRpdE1hbnkgZnJvbSAnLi4vRWRpdE1hbnknXG5pbXBvcnQgUGlsbCBmcm9tICcuLi9QaWxsJ1xuaW1wb3J0IFB1Ymxpc2hNYW55IGZyb20gJy4uL1B1Ymxpc2hNYW55J1xuaW1wb3J0IFNlYXJjaEZpbHRlciBmcm9tICcuLi9TZWFyY2hGaWx0ZXInXG5pbXBvcnQgU29ydENvbXBsZXggZnJvbSAnLi4vU29ydENvbXBsZXgnXG5pbXBvcnQgVW5wdWJsaXNoTWFueSBmcm9tICcuLi9VbnB1Ymxpc2hNYW55J1xuaW1wb3J0IFdoZXJlQnVpbGRlciBmcm9tICcuLi9XaGVyZUJ1aWxkZXInXG5pbXBvcnQgdmFsaWRhdGVXaGVyZVF1ZXJ5IGZyb20gJy4uL1doZXJlQnVpbGRlci92YWxpZGF0ZVdoZXJlUXVlcnknXG5pbXBvcnQgeyBnZXRUZXh0RmllbGRzVG9CZVNlYXJjaGVkIH0gZnJvbSAnLi9nZXRUZXh0RmllbGRzVG9CZVNlYXJjaGVkJ1xuaW1wb3J0ICcuL2luZGV4LnNjc3MnXG5cbmNvbnN0IGJhc2VDbGFzcyA9ICdsaXN0LWNvbnRyb2xzJ1xuXG4vKipcbiAqIFRoZSBMaXN0Q29udHJvbHMgY29tcG9uZW50IGlzIHVzZWQgdG8gcmVuZGVyIHRoZSBjb250cm9scyAoc2VhcmNoLCBmaWx0ZXIsIHdoZXJlKVxuICogZm9yIGEgY29sbGVjdGlvbidzIGxpc3Qgdmlldy4gWW91IGNhbiBmaW5kIHRob3NlIGRpcmVjdGx5IGFib3ZlIHRoZSB0YWJsZSB3aGljaCBsaXN0c1xuICogdGhlIGNvbGxlY3Rpb24ncyBkb2N1bWVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0Q29udHJvbHM6IFJlYWN0LkZDPFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgY29sbGVjdGlvbjoge1xuICAgICAgYWRtaW46IHsgbGlzdFNlYXJjaGFibGVGaWVsZHMgfSxcbiAgICAgIGZpZWxkcyxcbiAgICB9LFxuICAgIGNvbGxlY3Rpb24sXG4gICAgZW5hYmxlQ29sdW1ucyA9IHRydWUsXG4gICAgZW5hYmxlU29ydCA9IGZhbHNlLFxuICAgIGhhbmRsZVNlYXJjaENoYW5nZSxcbiAgICBoYW5kbGVTb3J0Q2hhbmdlLFxuICAgIGhhbmRsZVdoZXJlQ2hhbmdlLFxuICAgIG1vZGlmeVNlYXJjaFF1ZXJ5ID0gdHJ1ZSxcbiAgICByZXNldFBhcmFtcyxcbiAgICB0aXRsZUZpZWxkLFxuICB9ID0gcHJvcHNcblxuICBjb25zdCBwYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKVxuICBjb25zdCBzaG91bGRJbml0aWFsaXplV2hlcmVPcGVuZWQgPSB2YWxpZGF0ZVdoZXJlUXVlcnkocGFyYW1zPy53aGVyZSlcblxuICBjb25zdCBbdGV4dEZpZWxkc1RvQmVTZWFyY2hlZCwgc2V0RmllbGRzVG9CZVNlYXJjaGVkXSA9IHVzZVN0YXRlKFxuICAgIGdldFRleHRGaWVsZHNUb0JlU2VhcmNoZWQobGlzdFNlYXJjaGFibGVGaWVsZHMsIGZpZWxkcyksXG4gIClcbiAgY29uc3QgW3Zpc2libGVEcmF3ZXIsIHNldFZpc2libGVEcmF3ZXJdID0gdXNlU3RhdGU8J2NvbHVtbnMnIHwgJ3NvcnQnIHwgJ3doZXJlJz4oXG4gICAgc2hvdWxkSW5pdGlhbGl6ZVdoZXJlT3BlbmVkID8gJ3doZXJlJyA6IHVuZGVmaW5lZCxcbiAgKVxuICBjb25zdCB7IGkxOG4sIHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdnZW5lcmFsJylcbiAgY29uc3Qge1xuICAgIGJyZWFrcG9pbnRzOiB7IHM6IHNtYWxsQnJlYWsgfSxcbiAgfSA9IHVzZVdpbmRvd0luZm8oKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0RmllbGRzVG9CZVNlYXJjaGVkKGdldFRleHRGaWVsZHNUb0JlU2VhcmNoZWQobGlzdFNlYXJjaGFibGVGaWVsZHMsIGZpZWxkcykpXG4gIH0sIFtsaXN0U2VhcmNoYWJsZUZpZWxkcywgZmllbGRzXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtiYXNlQ2xhc3N9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX3dyYXBgfT5cbiAgICAgICAgPFNlYXJjaEZpbHRlclxuICAgICAgICAgIGZpZWxkTGFiZWw9e1xuICAgICAgICAgICAgKHRpdGxlRmllbGQgJiYgZ2V0VHJhbnNsYXRpb24odGl0bGVGaWVsZC5sYWJlbCB8fCB0aXRsZUZpZWxkLm5hbWUsIGkxOG4pKSA/PyB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGROYW1lPXt0aXRsZUZpZWxkICYmIGZpZWxkQWZmZWN0c0RhdGEodGl0bGVGaWVsZCkgPyB0aXRsZUZpZWxkLm5hbWUgOiB1bmRlZmluZWR9XG4gICAgICAgICAgaGFuZGxlQ2hhbmdlPXtoYW5kbGVTZWFyY2hDaGFuZ2V9XG4gICAgICAgICAgbGlzdFNlYXJjaGFibGVGaWVsZHM9e3RleHRGaWVsZHNUb0JlU2VhcmNoZWR9XG4gICAgICAgICAgbW9kaWZ5U2VhcmNoUXVlcnk9e21vZGlmeVNlYXJjaFF1ZXJ5fVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fYnV0dG9uc2B9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19idXR0b25zLXdyYXBgfT5cbiAgICAgICAgICAgIHshc21hbGxCcmVhayAmJiAoXG4gICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICA8RWRpdE1hbnkgY29sbGVjdGlvbj17Y29sbGVjdGlvbn0gcmVzZXRQYXJhbXM9e3Jlc2V0UGFyYW1zfSAvPlxuICAgICAgICAgICAgICAgIDxQdWJsaXNoTWFueSBjb2xsZWN0aW9uPXtjb2xsZWN0aW9ufSByZXNldFBhcmFtcz17cmVzZXRQYXJhbXN9IC8+XG4gICAgICAgICAgICAgICAgPFVucHVibGlzaE1hbnkgY29sbGVjdGlvbj17Y29sbGVjdGlvbn0gcmVzZXRQYXJhbXM9e3Jlc2V0UGFyYW1zfSAvPlxuICAgICAgICAgICAgICAgIDxEZWxldGVNYW55IGNvbGxlY3Rpb249e2NvbGxlY3Rpb259IHJlc2V0UGFyYW1zPXtyZXNldFBhcmFtc30gLz5cbiAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7ZW5hYmxlQ29sdW1ucyAmJiAoXG4gICAgICAgICAgICAgIDxQaWxsXG4gICAgICAgICAgICAgICAgYXJpYS1jb250cm9scz17YCR7YmFzZUNsYXNzfS1jb2x1bW5zYH1cbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXt2aXNpYmxlRHJhd2VyID09PSAnY29sdW1ucyd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X190b2dnbGUtY29sdW1ucyAke1xuICAgICAgICAgICAgICAgICAgdmlzaWJsZURyYXdlciA9PT0gJ2NvbHVtbnMnID8gYCR7YmFzZUNsYXNzfV9fYnV0dG9ucy1hY3RpdmVgIDogJydcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICBpY29uPXs8Q2hldnJvbiAvPn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgc2V0VmlzaWJsZURyYXdlcih2aXNpYmxlRHJhd2VyICE9PSAnY29sdW1ucycgPyAnY29sdW1ucycgOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBpbGxTdHlsZT1cImxpZ2h0XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0KCdjb2x1bW5zJyl9XG4gICAgICAgICAgICAgIDwvUGlsbD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8UGlsbFxuICAgICAgICAgICAgICBhcmlhLWNvbnRyb2xzPXtgJHtiYXNlQ2xhc3N9LXdoZXJlYH1cbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD17dmlzaWJsZURyYXdlciA9PT0gJ3doZXJlJ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X190b2dnbGUtd2hlcmUgJHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlRHJhd2VyID09PSAnd2hlcmUnID8gYCR7YmFzZUNsYXNzfV9fYnV0dG9ucy1hY3RpdmVgIDogJydcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIGljb249ezxDaGV2cm9uIC8+fVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaXNpYmxlRHJhd2VyKHZpc2libGVEcmF3ZXIgIT09ICd3aGVyZScgPyAnd2hlcmUnIDogdW5kZWZpbmVkKX1cbiAgICAgICAgICAgICAgcGlsbFN0eWxlPVwibGlnaHRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dCgnZmlsdGVycycpfVxuICAgICAgICAgICAgPC9QaWxsPlxuICAgICAgICAgICAge2VuYWJsZVNvcnQgJiYgKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgYXJpYS1jb250cm9scz17YCR7YmFzZUNsYXNzfS1zb3J0YH1cbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXt2aXNpYmxlRHJhd2VyID09PSAnc29ydCd9XG4gICAgICAgICAgICAgICAgYnV0dG9uU3R5bGU9e3Zpc2libGVEcmF3ZXIgPT09ICdzb3J0JyA/IHVuZGVmaW5lZCA6ICdzZWNvbmRhcnknfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fdG9nZ2xlLXNvcnRgfVxuICAgICAgICAgICAgICAgIGljb249XCJjaGV2cm9uXCJcbiAgICAgICAgICAgICAgICBpY29uU3R5bGU9XCJub25lXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaXNpYmxlRHJhd2VyKHZpc2libGVEcmF3ZXIgIT09ICdzb3J0JyA/ICdzb3J0JyA6IHVuZGVmaW5lZCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dCgnc29ydCcpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICB7ZW5hYmxlQ29sdW1ucyAmJiAoXG4gICAgICAgIDxBbmltYXRlSGVpZ2h0XG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19jb2x1bW5zYH1cbiAgICAgICAgICBoZWlnaHQ9e3Zpc2libGVEcmF3ZXIgPT09ICdjb2x1bW5zJyA/ICdhdXRvJyA6IDB9XG4gICAgICAgICAgaWQ9e2Ake2Jhc2VDbGFzc30tY29sdW1uc2B9XG4gICAgICAgID5cbiAgICAgICAgICA8Q29sdW1uU2VsZWN0b3IgY29sbGVjdGlvbj17Y29sbGVjdGlvbn0gLz5cbiAgICAgICAgPC9BbmltYXRlSGVpZ2h0PlxuICAgICAgKX1cbiAgICAgIDxBbmltYXRlSGVpZ2h0XG4gICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fd2hlcmVgfVxuICAgICAgICBoZWlnaHQ9e3Zpc2libGVEcmF3ZXIgPT09ICd3aGVyZScgPyAnYXV0bycgOiAwfVxuICAgICAgICBpZD17YCR7YmFzZUNsYXNzfS13aGVyZWB9XG4gICAgICA+XG4gICAgICAgIDxXaGVyZUJ1aWxkZXJcbiAgICAgICAgICBjb2xsZWN0aW9uPXtjb2xsZWN0aW9ufVxuICAgICAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlV2hlcmVDaGFuZ2V9XG4gICAgICAgICAgbW9kaWZ5U2VhcmNoUXVlcnk9e21vZGlmeVNlYXJjaFF1ZXJ5fVxuICAgICAgICAvPlxuICAgICAgPC9BbmltYXRlSGVpZ2h0PlxuICAgICAge2VuYWJsZVNvcnQgJiYgKFxuICAgICAgICA8QW5pbWF0ZUhlaWdodFxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fc29ydGB9XG4gICAgICAgICAgaGVpZ2h0PXt2aXNpYmxlRHJhd2VyID09PSAnc29ydCcgPyAnYXV0bycgOiAwfVxuICAgICAgICAgIGlkPXtgJHtiYXNlQ2xhc3N9LXNvcnRgfVxuICAgICAgICA+XG4gICAgICAgICAgPFNvcnRDb21wbGV4XG4gICAgICAgICAgICBjb2xsZWN0aW9uPXtjb2xsZWN0aW9ufVxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXtoYW5kbGVTb3J0Q2hhbmdlfVxuICAgICAgICAgICAgbW9kaWZ5U2VhcmNoUXVlcnk9e21vZGlmeVNlYXJjaFF1ZXJ5fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQW5pbWF0ZUhlaWdodD5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJMaXN0Q29udHJvbHMiLCJiYXNlQ2xhc3MiLCJwcm9wcyIsImNvbGxlY3Rpb24iLCJhZG1pbiIsImxpc3RTZWFyY2hhYmxlRmllbGRzIiwiZmllbGRzIiwiZW5hYmxlQ29sdW1ucyIsImVuYWJsZVNvcnQiLCJoYW5kbGVTZWFyY2hDaGFuZ2UiLCJoYW5kbGVTb3J0Q2hhbmdlIiwiaGFuZGxlV2hlcmVDaGFuZ2UiLCJtb2RpZnlTZWFyY2hRdWVyeSIsInJlc2V0UGFyYW1zIiwidGl0bGVGaWVsZCIsInBhcmFtcyIsInVzZVNlYXJjaFBhcmFtcyIsInNob3VsZEluaXRpYWxpemVXaGVyZU9wZW5lZCIsInZhbGlkYXRlV2hlcmVRdWVyeSIsIndoZXJlIiwidGV4dEZpZWxkc1RvQmVTZWFyY2hlZCIsInNldEZpZWxkc1RvQmVTZWFyY2hlZCIsInVzZVN0YXRlIiwiZ2V0VGV4dEZpZWxkc1RvQmVTZWFyY2hlZCIsInZpc2libGVEcmF3ZXIiLCJzZXRWaXNpYmxlRHJhd2VyIiwidW5kZWZpbmVkIiwiaTE4biIsInQiLCJ1c2VUcmFuc2xhdGlvbiIsImJyZWFrcG9pbnRzIiwicyIsInNtYWxsQnJlYWsiLCJ1c2VXaW5kb3dJbmZvIiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJkaXYiLCJjbGFzc05hbWUiLCJTZWFyY2hGaWx0ZXIiLCJmaWVsZExhYmVsIiwiZ2V0VHJhbnNsYXRpb24iLCJsYWJlbCIsIm5hbWUiLCJmaWVsZE5hbWUiLCJmaWVsZEFmZmVjdHNEYXRhIiwiaGFuZGxlQ2hhbmdlIiwiRnJhZ21lbnQiLCJFZGl0TWFueSIsIlB1Ymxpc2hNYW55IiwiVW5wdWJsaXNoTWFueSIsIkRlbGV0ZU1hbnkiLCJQaWxsIiwiYXJpYS1jb250cm9scyIsImFyaWEtZXhwYW5kZWQiLCJpY29uIiwiQ2hldnJvbiIsIm9uQ2xpY2siLCJwaWxsU3R5bGUiLCJCdXR0b24iLCJidXR0b25TdHlsZSIsImljb25TdHlsZSIsIkFuaW1hdGVIZWlnaHQiLCJoZWlnaHQiLCJpZCIsIkNvbHVtblNlbGVjdG9yIiwiV2hlcmVCdWlsZGVyIiwiU29ydENvbXBsZXgiXSwibWFwcGluZ3MiOiI7Ozs7K0JBZ0NhQTs7O2VBQUFBOzs7NEJBaENpQjsrREFDRTsyRUFDTjs4QkFDSzt1QkFJRTtnQ0FDRjtnRUFDWDs4QkFDWTsrREFDYjt1RUFDUTttRUFDSjtpRUFDRjs2REFDSjtvRUFDTztxRUFDQztvRUFDRDtzRUFDRTtxRUFDRDsyRUFDTTsyQ0FDVztRQUNuQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRVAsTUFBTUMsWUFBWTtBQU9YLE1BQU1ELGVBQWdDLENBQUNFO0lBQzVDLE1BQU0sRUFDSkMsWUFBWSxFQUNWQyxPQUFPLEVBQUVDLG9CQUFvQixFQUFFLEVBQy9CQyxNQUFNLEVBQ1AsRUFDREgsVUFBVSxFQUNWSSxnQkFBZ0IsSUFBSSxFQUNwQkMsYUFBYSxLQUFLLEVBQ2xCQyxrQkFBa0IsRUFDbEJDLGdCQUFnQixFQUNoQkMsaUJBQWlCLEVBQ2pCQyxvQkFBb0IsSUFBSSxFQUN4QkMsV0FBVyxFQUNYQyxVQUFVLEVBQ1gsR0FBR1o7SUFFSixNQUFNYSxTQUFTQyxJQUFBQSw2QkFBZTtJQUM5QixNQUFNQyw4QkFBOEJDLElBQUFBLDJCQUFrQixFQUFDSCxRQUFRSTtJQUUvRCxNQUFNLENBQUNDLHdCQUF3QkMsc0JBQXNCLEdBQUdDLElBQUFBLGVBQVEsRUFDOURDLElBQUFBLG9EQUF5QixFQUFDbEIsc0JBQXNCQztJQUVsRCxNQUFNLENBQUNrQixlQUFlQyxpQkFBaUIsR0FBR0gsSUFBQUEsZUFBUSxFQUNoREwsOEJBQThCLFVBQVVTO0lBRTFDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxDQUFDLEVBQUUsR0FBR0MsSUFBQUEsNEJBQWMsRUFBQztJQUNuQyxNQUFNLEVBQ0pDLGFBQWEsRUFBRUMsR0FBR0MsVUFBVSxFQUFFLEVBQy9CLEdBQUdDLElBQUFBLHlCQUFhO0lBRWpCQyxjQUFLLENBQUNDLFNBQVMsQ0FBQztRQUNkZCxzQkFBc0JFLElBQUFBLG9EQUF5QixFQUFDbEIsc0JBQXNCQztJQUN4RSxHQUFHO1FBQUNEO1FBQXNCQztLQUFPO0lBRWpDLHFCQUNFLDZCQUFDOEI7UUFBSUMsV0FBV3BDO3FCQUNkLDZCQUFDbUM7UUFBSUMsV0FBVyxDQUFDLEVBQUVwQyxVQUFVLE1BQU0sQ0FBQztxQkFDbEMsNkJBQUNxQyxxQkFBWTtRQUNYQyxZQUNFLEFBQUN6QixDQUFBQSxjQUFjMEIsSUFBQUEsOEJBQWMsRUFBQzFCLFdBQVcyQixLQUFLLElBQUkzQixXQUFXNEIsSUFBSSxFQUFFZixLQUFJLEtBQU1EO1FBRS9FaUIsV0FBVzdCLGNBQWM4QixJQUFBQSx1QkFBZ0IsRUFBQzlCLGNBQWNBLFdBQVc0QixJQUFJLEdBQUdoQjtRQUMxRW1CLGNBQWNwQztRQUNkSixzQkFBc0JlO1FBQ3RCUixtQkFBbUJBO3NCQUVyQiw2QkFBQ3dCO1FBQUlDLFdBQVcsQ0FBQyxFQUFFcEMsVUFBVSxTQUFTLENBQUM7cUJBQ3JDLDZCQUFDbUM7UUFBSUMsV0FBVyxDQUFDLEVBQUVwQyxVQUFVLGNBQWMsQ0FBQztPQUN6QyxDQUFDK0IsNEJBQ0EsNkJBQUNFLGNBQUssQ0FBQ1ksUUFBUSxzQkFDYiw2QkFBQ0MsaUJBQVE7UUFBQzVDLFlBQVlBO1FBQVlVLGFBQWFBO3NCQUMvQyw2QkFBQ21DLG9CQUFXO1FBQUM3QyxZQUFZQTtRQUFZVSxhQUFhQTtzQkFDbEQsNkJBQUNvQyxzQkFBYTtRQUFDOUMsWUFBWUE7UUFBWVUsYUFBYUE7c0JBQ3BELDZCQUFDcUMsbUJBQVU7UUFBQy9DLFlBQVlBO1FBQVlVLGFBQWFBO1NBR3BETiwrQkFDQyw2QkFBQzRDLGFBQUk7UUFDSEMsaUJBQWUsQ0FBQyxFQUFFbkQsVUFBVSxRQUFRLENBQUM7UUFDckNvRCxpQkFBZTdCLGtCQUFrQjtRQUNqQ2EsV0FBVyxDQUFDLEVBQUVwQyxVQUFVLGlCQUFpQixFQUN2Q3VCLGtCQUFrQixZQUFZLENBQUMsRUFBRXZCLFVBQVUsZ0JBQWdCLENBQUMsR0FBRyxHQUNoRSxDQUFDO1FBQ0ZxRCxvQkFBTSw2QkFBQ0MsZ0JBQU87UUFDZEMsU0FBUyxJQUNQL0IsaUJBQWlCRCxrQkFBa0IsWUFBWSxZQUFZRTtRQUU3RCtCLFdBQVU7T0FFVDdCLEVBQUUsMkJBR1AsNkJBQUN1QixhQUFJO1FBQ0hDLGlCQUFlLENBQUMsRUFBRW5ELFVBQVUsTUFBTSxDQUFDO1FBQ25Db0QsaUJBQWU3QixrQkFBa0I7UUFDakNhLFdBQVcsQ0FBQyxFQUFFcEMsVUFBVSxlQUFlLEVBQ3JDdUIsa0JBQWtCLFVBQVUsQ0FBQyxFQUFFdkIsVUFBVSxnQkFBZ0IsQ0FBQyxHQUFHLEdBQzlELENBQUM7UUFDRnFELG9CQUFNLDZCQUFDQyxnQkFBTztRQUNkQyxTQUFTLElBQU0vQixpQkFBaUJELGtCQUFrQixVQUFVLFVBQVVFO1FBQ3RFK0IsV0FBVTtPQUVUN0IsRUFBRSxhQUVKcEIsNEJBQ0MsNkJBQUNrRCxlQUFNO1FBQ0xOLGlCQUFlLENBQUMsRUFBRW5ELFVBQVUsS0FBSyxDQUFDO1FBQ2xDb0QsaUJBQWU3QixrQkFBa0I7UUFDakNtQyxhQUFhbkMsa0JBQWtCLFNBQVNFLFlBQVk7UUFDcERXLFdBQVcsQ0FBQyxFQUFFcEMsVUFBVSxhQUFhLENBQUM7UUFDdENxRCxNQUFLO1FBQ0xNLFdBQVU7UUFDVkosU0FBUyxJQUFNL0IsaUJBQWlCRCxrQkFBa0IsU0FBUyxTQUFTRTtPQUVuRUUsRUFBRSxhQU1ackIsK0JBQ0MsNkJBQUNzRCwyQkFBYTtRQUNaeEIsV0FBVyxDQUFDLEVBQUVwQyxVQUFVLFNBQVMsQ0FBQztRQUNsQzZELFFBQVF0QyxrQkFBa0IsWUFBWSxTQUFTO1FBQy9DdUMsSUFBSSxDQUFDLEVBQUU5RCxVQUFVLFFBQVEsQ0FBQztxQkFFMUIsNkJBQUMrRCx1QkFBYztRQUFDN0QsWUFBWUE7dUJBR2hDLDZCQUFDMEQsMkJBQWE7UUFDWnhCLFdBQVcsQ0FBQyxFQUFFcEMsVUFBVSxPQUFPLENBQUM7UUFDaEM2RCxRQUFRdEMsa0JBQWtCLFVBQVUsU0FBUztRQUM3Q3VDLElBQUksQ0FBQyxFQUFFOUQsVUFBVSxNQUFNLENBQUM7cUJBRXhCLDZCQUFDZ0UscUJBQVk7UUFDWDlELFlBQVlBO1FBQ1owQyxjQUFjbEM7UUFDZEMsbUJBQW1CQTtTQUd0QkosNEJBQ0MsNkJBQUNxRCwyQkFBYTtRQUNaeEIsV0FBVyxDQUFDLEVBQUVwQyxVQUFVLE1BQU0sQ0FBQztRQUMvQjZELFFBQVF0QyxrQkFBa0IsU0FBUyxTQUFTO1FBQzVDdUMsSUFBSSxDQUFDLEVBQUU5RCxVQUFVLEtBQUssQ0FBQztxQkFFdkIsNkJBQUNpRSxvQkFBVztRQUNWL0QsWUFBWUE7UUFDWjBDLGNBQWNuQztRQUNkRSxtQkFBbUJBOztBQU0vQiJ9