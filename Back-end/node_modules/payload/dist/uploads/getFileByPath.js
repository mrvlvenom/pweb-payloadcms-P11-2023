"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _filetype = require("file-type");
const _fs = /*#__PURE__*/ _interop_require_default(require("fs"));
const _path = /*#__PURE__*/ _interop_require_default(require("path"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const getFileByPath = async (filePath)=>{
    if (typeof filePath === 'string') {
        const data = _fs.default.readFileSync(filePath);
        const mimetype = (0, _filetype.fromFile)(filePath);
        const { size } = _fs.default.statSync(filePath);
        const name = _path.default.basename(filePath);
        return {
            name,
            data,
            mimetype: (await mimetype).mime,
            size
        };
    }
    return undefined;
};
const _default = getFileByPath;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91cGxvYWRzL2dldEZpbGVCeVBhdGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUZpbGUgfSBmcm9tICdmaWxlLXR5cGUnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5pbXBvcnQgdHlwZSB7IEZpbGUgfSBmcm9tICcuL3R5cGVzJ1xuXG5jb25zdCBnZXRGaWxlQnlQYXRoID0gYXN5bmMgKGZpbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPEZpbGU+ID0+IHtcbiAgaWYgKHR5cGVvZiBmaWxlUGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoKVxuICAgIGNvbnN0IG1pbWV0eXBlID0gZnJvbUZpbGUoZmlsZVBhdGgpXG4gICAgY29uc3QgeyBzaXplIH0gPSBmcy5zdGF0U3luYyhmaWxlUGF0aClcblxuICAgIGNvbnN0IG5hbWUgPSBwYXRoLmJhc2VuYW1lKGZpbGVQYXRoKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWUsXG4gICAgICBkYXRhLFxuICAgICAgbWltZXR5cGU6IChhd2FpdCBtaW1ldHlwZSkubWltZSxcbiAgICAgIHNpemUsXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRGaWxlQnlQYXRoXG4iXSwibmFtZXMiOlsiZ2V0RmlsZUJ5UGF0aCIsImZpbGVQYXRoIiwiZGF0YSIsImZzIiwicmVhZEZpbGVTeW5jIiwibWltZXR5cGUiLCJmcm9tRmlsZSIsInNpemUiLCJzdGF0U3luYyIsIm5hbWUiLCJwYXRoIiwiYmFzZW5hbWUiLCJtaW1lIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiOzs7OytCQXlCQTs7O2VBQUE7OzswQkF6QnlCOzJEQUNWOzZEQUNFOzs7Ozs7QUFJakIsTUFBTUEsZ0JBQWdCLE9BQU9DO0lBQzNCLElBQUksT0FBT0EsYUFBYSxVQUFVO1FBQ2hDLE1BQU1DLE9BQU9DLFdBQUUsQ0FBQ0MsWUFBWSxDQUFDSDtRQUM3QixNQUFNSSxXQUFXQyxJQUFBQSxrQkFBUSxFQUFDTDtRQUMxQixNQUFNLEVBQUVNLElBQUksRUFBRSxHQUFHSixXQUFFLENBQUNLLFFBQVEsQ0FBQ1A7UUFFN0IsTUFBTVEsT0FBT0MsYUFBSSxDQUFDQyxRQUFRLENBQUNWO1FBRTNCLE9BQU87WUFDTFE7WUFDQVA7WUFDQUcsVUFBVSxBQUFDLENBQUEsTUFBTUEsUUFBTyxFQUFHTyxJQUFJO1lBQy9CTDtRQUNGO0lBQ0Y7SUFFQSxPQUFPTTtBQUNUO01BRUEsV0FBZWIifQ==